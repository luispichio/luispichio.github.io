<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://luispichio.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://luispichio.github.io/" rel="alternate" type="text/html" hreflang="es"/><updated>2026-01-28T05:07:35+00:00</updated><id>https://luispichio.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Exprimí tu Linux #1 | 10 “must have” para sacarle mas jugo a tu terminal</title><link href="https://luispichio.github.io/blog/2025/exprim-tu-linux-1-10-must-have-para-sacarle-mas-jugo-a-tu-terminal/" rel="alternate" type="text/html" title="Exprimí tu Linux #1 | 10 “must have” para sacarle mas jugo a tu terminal"/><published>2025-02-20T02:59:29+00:00</published><updated>2025-02-20T02:59:29+00:00</updated><id>https://luispichio.github.io/blog/2025/exprim-tu-linux-1--10-must-have-para-sacarle-mas-jugo-a-tu-terminal</id><content type="html" xml:base="https://luispichio.github.io/blog/2025/exprim-tu-linux-1-10-must-have-para-sacarle-mas-jugo-a-tu-terminal/"><![CDATA[<p>Y arrancamos la serie con 10 herramientas de código abierto de propósito general (no pre-instaladas) para potenciar / aumentar tu productividad con el terminal.<br/>La selección es basada en experiencia personal del autor (cuestión de gustos, no necesariamente ni las mejores ni las únicas alternativas): las herremientas aquí referenciadas son de uso habitual fuera / dentro de la actividad laboral.<br/>A fines de simplificar el proceso de instalación se seleccionan aplicaciones disponibles en repositorios de software de las distribuciones de linux (aunque no necesariamente se trata de la última versión disponible).</p> <h2 class="wp-block-heading">1. Kitty</h2> <p><em><strong>El mejor emulador de terminal que probé hasta el momento.</strong></em><br/>Enfocado en performance y funcionalidades.<br/>Escrito en una mezcla de C (rendimiento) y Python (scripting / customización).<br/>Pilar &#8220;fundamental&#8221; para aprovechar al máximo alguna de las funcionalidades de las aplicaciones que recomendaremos a continuación.<br/>Solo necesaria (sugerida) para acceder a la consola desde un Linux Desktop con interfáz gráfica (es un emulador de terminal).</p> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Características destacables</strong></p> <ul class="wp-block-list"> <li>Visualización de imágenes</li> <li>Interactive Unicode characters input by name, code, recently used</li> <li>Supports true color, text formatting features</li> <li>Ventana partida / multi-ventanas / tabs</li> <li>Configuración por archivo</li> <li>Hypervínculos</li> <li>Soporte para mouse</li> <li>Buffers múltiples de copiar / pegar</li> <li>Renderización con OpenGL</li> <li>Scriptable</li> </ul> <div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-f66f9956 wp-block-group-is-layout-flex"> <a href="https://www.gnu.org/licenses/gpl-3.0"> <img decoding="async" src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License"/> </a> <a href="https://repology.org/project/kitty-terminal/versions"> <img decoding="async" src="https://repology.org/badge/tiny-repos/kitty-terminal.svg" alt="Packaging status"/> </a> <a href="https://repology.org/project/kitty-terminal/versions"> <img decoding="async" src="https://repology.org/badge/latest-versions/kitty-terminal.svg" alt="latest packaged version(s)"/> </a> </div> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Referencias</strong></p> <ul class="wp-block-list"> <li><a href="https://sw.kovidgoyal.net/kitty/">https://sw.kovidgoyal.net/kitty/</a></li> <li><a href="https://github.com/kovidgoyal/kitty">https://github.com/kovidgoyal/kitty</a></li> </ul> <p><strong>Instalación</strong></p> <ul class="wp-block-list"> <li><a href="https://sw.kovidgoyal.net/kitty/binary/">https://sw.kovidgoyal.net/kitty/binary/</a></li> </ul> <p><strong>Alternativas</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/alacritty/alacritty">https://github.com/alacritty/alacritty</a></li> <li><a href="https://gnunn1.github.io/tilix-web/">https://gnunn1.github.io/tilix-web/</a></li> <li><a href="https://gnome-terminator.org/">https://gnome-terminator.org/</a></li> <li><a href="https://tabby.sh/">https://tabby.sh/</a></li> <li><a href="https://github.com/tmux/tmux">https://github.com/tmux/tmux</a></li> </ul> </div> </div> <figure class="wp-block-image aligncenter size-full"><img fetchpriority="high" decoding="async" width="740" height="483" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/kitty-terminal-emulator740.png" alt="" class="wp-image-1271"/></figure> <hr class="wp-block-separator has-alpha-channel-opacity"/> <h2 class="wp-block-heading">2. Zsh + Oh My Zsh</h2> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p class="has-text-align-left"><strong>Zsh</strong></p> <p class="has-text-align-left">Intérprete alternativo potente y super customizable.</p> <div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-f66f9956 wp-block-group-is-layout-flex"> <a href="https://www.gnu.org/licenses/gpl-3.0"> <img decoding="async" src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License"/> </a> <a href="https://repology.org/project/zsh/versions"> <img decoding="async" src="https://repology.org/badge/tiny-repos/zsh.svg" alt="Packaging status"/> </a> <a href="https://repology.org/project/zsh/versions"> <img decoding="async" src="https://repology.org/badge/latest-versions/zsh.svg" alt="latest packaged version(s)"/> </a> </div> <p class="has-text-align-left"><strong>Oh My Zsh</strong></p> <p class="has-text-align-left">Framework de gestión para Zsh.<br/>Simplifica la configuración / personalización del intérprete.<br/>Viene con un paquete de temas (+200) y plugins (+300) listos para usar (baterías incluídas como suele decirse).</p> <div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-f66f9956 wp-block-group-is-layout-flex"> <a href="https://opensource.org/licenses/MIT"> <img decoding="async" src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="Licence"/> </a> </div> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <ul class="wp-block-list"> <li><strong>Zsh</strong> <ul class="wp-block-list"> <li><a href="https://zsh.sourceforge.io/">https://zsh.sourceforge.io/</a></li> <li><a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Installing-ZSH#how-to-install-zsh-on-many-platforms">Instalación</a></li> </ul> </li> <li><strong>Oh My Zsh</strong> <ul class="wp-block-list"> <li><a href="https://ohmyz.sh">https://ohmyz.sh</a></li> <li><a href="https://github.com/ohmyzsh/ohmyzsh">https://github.com/ohmyzsh/ohmyzsh</a></li> <li><a href="https://github.com/ohmyzsh/ohmyzsh/wiki#welcome-to-oh-my-zsh">Instalación</a></li> <li><a href="https://github.com/ohmyzsh/ohmyzsh/wiki#welcome-to-oh-my-zsh">Plugins</a> <ul class="wp-block-list"> <li><a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins">Lista de Plugins</a></li> </ul> </li> <li><a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes">Temas</a></li> <li><a href="https://github.com/Powerlevel9k/powerlevel9k/">https://github.com/Powerlevel9k/powerlevel9k/</a></li> <li><a href="https://www.nerdfonts.com/">https://www.nerdfonts.com/</a></li> </ul> </li> <li><strong>Alternativas</strong> <ul class="wp-block-list"> <li><a href="https://fishshell.com/">https://fishshell.com/</a></li> <li><a href="https://github.com/oh-my-fish/oh-my-fish">https://github.com/oh-my-fish/oh-my-fish</a></li> </ul> </li> </ul> </div> </div> <p><strong>Plugins recomendados</strong></p> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <ul class="wp-block-list"> <li><a href="https://github.com/zsh-users/zsh-autosuggestions">https://github.com/zsh-users/zsh-autosuggestions</a></li> <li><a href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/fzf">https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/fzf</a></li> <li><a href="https://github.com/zsh-users/zsh-syntax-highlighting">https://github.com/zsh-users/zsh-syntax-highlighting</a></li> </ul> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <ul class="wp-block-list"> <li><a href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kitty">https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kitty</a></li> </ul> </div> </div> <div class="alignnormal"><div id="metaslider-id-1219" style="width: 100%;" class="ml-slider-3-96-0 metaslider metaslider-flex metaslider-1219 ml-slider ms-theme-default" role="region" aria-roledescription="Slideshow" aria-label="OMZ"> <div id="metaslider_container_1219"> <div id="metaslider_1219"> <ul class="slides"> <li style="display: block; width: 100%;" class="slide-1227 ms-image " aria-roledescription="slide" aria-label="slide-1227" data-date="2025-02-18 21:31:09"><img decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/omz-update-640x400.png" height="400" width="640" alt="" class="slider-1219 slide-1227" title="omz-update"/></li> <li style="display: none; width: 100%;" class="slide-1228 ms-image " aria-roledescription="slide" aria-label="slide-1228" data-date="2025-02-18 21:31:09"><img decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/omz-arrow-640x400.png" height="400" width="640" alt="" class="slider-1219 slide-1228" title="omz-arrow"/></li> <li style="display: none; width: 100%;" class="slide-1229 ms-image " aria-roledescription="slide" aria-label="slide-1229" data-date="2025-02-18 21:31:09"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/omz-half-life-640x400.png" height="400" width="640" alt="" class="slider-1219 slide-1229" title="omz-half-life"/></li> <li style="display: none; width: 100%;" class="slide-1230 ms-image " aria-roledescription="slide" aria-label="slide-1230" data-date="2025-02-18 21:31:10"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/omz-eastwood-640x400.png" height="400" width="640" alt="" class="slider-1219 slide-1230" title="omz-eastwood"/></li> <li style="display: none; width: 100%;" class="slide-1231 ms-image " aria-roledescription="slide" aria-label="slide-1231" data-date="2025-02-18 21:31:10"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/omz-changelog-640x400.png" height="400" width="640" alt="" class="slider-1219 slide-1231" title="omz-changelog"/></li> <li style="display: none; width: 100%;" class="slide-1232 ms-image " aria-roledescription="slide" aria-label="slide-1232" data-date="2025-02-18 21:31:10"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/omz-robbyrussell-640x400.png" height="400" width="640" alt="" class="slider-1219 slide-1232" title="omz-robbyrussell"/></li> <li style="display: none; width: 100%;" class="slide-1233 ms-image " aria-roledescription="slide" aria-label="slide-1233" data-date="2025-02-18 21:31:10"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/omz-cloud-640x400.png" height="400" width="640" alt="" class="slider-1219 slide-1233" title="omz-cloud"/></li> </ul> </div> </div> </div></div> <hr class="wp-block-separator has-alpha-channel-opacity"/> <h2 class="wp-block-heading">3. FZF (Fuzzy Finder)</h2> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p>Buscador &#8220;con lógica difusa&#8221; para línea de comandos.<br/>Permite filtrado interactivo de archivos, historia de comandos, procesos, nombres de host, commits de git, marcadores, etc.<br/>Con los complementos adecuados se integra al terminal de usuario y puede auto-completar comandos / linéa de comandos.</p> <div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-f66f9956 wp-block-group-is-layout-flex"> <a href="https://opensource.org/licenses/MIT"> <img decoding="async" src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="Licence"/> </a> <a href="https://repology.org/project/lsd/versions"> <img decoding="async" src="https://repology.org/badge/tiny-repos/lsd.svg" alt="Packaging status"/> </a> <a href="https://repology.org/project/btop/versions"> <img decoding="async" src="https://repology.org/badge/latest-versions/btop.svg" alt="latest packaged version(s)"/> </a> </div> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Referencias</strong></p> <ul class="wp-block-list"> <li><a href="https://junegunn.github.io/fzf">https://junegunn.github.io/fzf</a></li> <li><a href="https://github.com/junegunn/fzf">https://github.com/junegunn/fzf</a></li> </ul> <p><strong>Instalación</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/junegunn/fzf#installation">https://github.com/junegunn/fzf#installation</a></li> </ul> </div> </div> <figure class="wp-block-image aligncenter size-full"><img loading="lazy" decoding="async" width="740" height="493" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/fzf740.gif" alt="" class="wp-image-1191"/></figure> <hr class="wp-block-separator has-alpha-channel-opacity"/> <h2 class="wp-block-heading">4. LSD (LSDeluxe)</h2> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p>&#8220;Vuelta de rosca&#8221; al comando ls, súper customizable y con un montón de agregados: colores, iconos, vista en árbol, vistas formateadas, etc.</p> <p>Es ideal tener instalada una fuente Nerd Font o similar que incluya iconos y configurada en nuestra terminal para que utilice dicha fuente.</p> <div class="wp-block-group is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-a1ed96d5 wp-block-group-is-layout-flex"> <a href="https://opensource.org/licenses/Apache-2.0"> <img decoding="async" src="https://img.shields.io/badge/License-Apache_2.0-blue.svg" alt="License"/> </a> <a href="https://repology.org/project/lsd/versions"> <img decoding="async" src="https://repology.org/badge/tiny-repos/lsd.svg" alt="Packaging status"/> </a> <a href="https://repology.org/project/lsd/versions"> <img decoding="async" src="https://repology.org/badge/latest-versions/lsd.svg" alt="latest packaged version(s)"/> </a> </div> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Referencias</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/lsd-rs/lsd">https://github.com/lsd-rs/lsd</a></li> </ul> <p><strong>Instalación</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/lsd-rs/lsd?tab=readme-ov-file#installation">https://github.com/lsd-rs/lsd?tab=readme-ov-file#installation</a></li> </ul> </div> </div> <figure class="wp-block-image aligncenter size-full"><img loading="lazy" decoding="async" width="812" height="188" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/image-6.png" alt="" class="wp-image-1167"/></figure> <hr class="wp-block-separator has-alpha-channel-opacity"/> <h2 class="wp-block-heading">5. BAT (cat con alas)</h2> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p>Clon del comando cat con múltiples agregados:</p> <ul class="wp-block-list"> <li>Detección de sintaxis (formateado / colores)</li> <li>Paginado</li> <li>Múltiples archivos (+concatenado)</li> <li>Caracteres &#8220;no imprimibles&#8221;</li> <li>Integración con GIT</li> </ul> <div class="wp-block-group is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-a1ed96d5 wp-block-group-is-layout-flex"> <a href="https://opensource.org/licenses/Apache-2.0"> <img decoding="async" src="https://img.shields.io/badge/License-Apache_2.0-blue.svg" alt="License"/> </a> <a href="https://repology.org/project/bat-cat/versions"> <img decoding="async" src="https://repology.org/badge/tiny-repos/bat-cat.svg" alt="Packaging status"/> </a> </div> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Referencias</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/sharkdp/bat">https://github.com/sharkdp/bat</a></li> </ul> <p><strong>Instalación</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/sharkdp/bat#installation">https://github.com/sharkdp/bat#installation</a></li> </ul> </div> </div> <div class="alignnormal"><div id="metaslider-id-1212" style="width: 100%;" class="ml-slider-3-96-0 metaslider metaslider-flex metaslider-1212 ml-slider ms-theme-default-base has-dots-nav" role="region" aria-roledescription="Slideshow" aria-label="BAT"> <div id="metaslider_container_1212"> <div id="metaslider_1212"> <ul class="slides"> <li style="display: block; width: 100%;" class="slide-1213 ms-image " aria-roledescription="slide" aria-label="slide-1213" data-date="2025-02-18 21:18:32"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/bat-WndGp9H-1-488x305.png" height="400" width="640" alt="" class="slider-1212 slide-1213" title="bat-WndGp9H"/></li> <li style="display: none; width: 100%;" class="slide-1214 ms-image " aria-roledescription="slide" aria-label="slide-1214" data-date="2025-02-18 21:18:33"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/bat-rGsdnDe-640x400.png" height="400" width="640" alt="" class="slider-1212 slide-1214" title="bat-rGsdnDe"/></li> <li style="display: none; width: 100%;" class="slide-1215 ms-image " aria-roledescription="slide" aria-label="slide-1215" data-date="2025-02-18 21:18:33"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/bat-2lSW4RE-523x327.png" height="400" width="640" alt="" class="slider-1212 slide-1215" title="bat-2lSW4RE"/></li> <li style="display: none; width: 100%;" class="slide-1216 ms-image " aria-roledescription="slide" aria-label="slide-1216" data-date="2025-02-18 21:18:33"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/bat-multiple-640x400.png" height="400" width="640" alt="" class="slider-1212 slide-1216" title="bat-multiple"/></li> </ul> </div> </div> </div></div> <hr class="wp-block-separator has-alpha-channel-opacity"/> <h2 class="wp-block-heading">6. BTOP++</h2> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p>BTOP++ es un monitor de recursos para la terminal. Ofrece una visualización en tiempo real de las estadísticas de uso de la CPU, la memoria, los discos, la red y los procesos de tu máquina.</p> <p>Escrito en C++, GUI que presenta gráficos claros, interactivos y detallados, además de ser altamente receptiva. Incluye un medidor de batería, la capacidad de filtrar procesos o mostrarlos en vista de árbol, un gráfico de escalado automático para el uso de la red, actividad de E/S para los discos y más información útil.</p> <p>BTOP++ es ideal cuando necesitas un análisis instantáneo de las estadísticas del sistema, especialmente para monitorear actividades que consumen muchos recursos</p> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Referencias</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/aristocratos/btop">https://github.com/aristocratos/btop</a></li> </ul> <p><strong>Instalación</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/aristocratos/btop?tab=readme-ov-file#installation">https://github.com/aristocratos/btop?tab=readme-ov-file#installation</a></li> </ul> <div class="wp-block-group is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-a1ed96d5 wp-block-group-is-layout-flex"> <a href="https://opensource.org/licenses/Apache-2.0"> <img decoding="async" src="https://img.shields.io/badge/License-Apache_2.0-blue.svg" alt="License"/> </a> <a href="https://repology.org/project/btop/versions"> <img decoding="async" src="https://repology.org/badge/tiny-repos/btop.svg" alt="Packaging status"/> </a> <a href="https://repology.org/project/btop/versions"> <img decoding="async" src="https://repology.org/badge/latest-versions/btop.svg" alt="latest packaged version(s)"/> </a> </div> </div> </div> <div class="alignnormal"><div id="metaslider-id-1251" style="width: 100%;" class="ml-slider-3-96-0 metaslider metaslider-flex metaslider-1251 ml-slider ms-theme-default-base has-dots-nav" role="region" aria-roledescription="Slideshow" aria-label="BTOP"> <div id="metaslider_container_1251"> <div id="metaslider_1251"> <ul class="slides"> <li style="display: block; width: 100%;" class="slide-1261 ms-image " aria-roledescription="slide" aria-label="slide-1261" data-date="2025-02-19 00:19:05"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/btop-normal-640x400.png" height="400" width="640" alt="" class="slider-1251 slide-1261" title="btop-normal"/></li> <li style="display: none; width: 100%;" class="slide-1259 ms-image " aria-roledescription="slide" aria-label="slide-1259" data-date="2025-02-19 00:19:05"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/btop-alt-640x400.png" height="400" width="640" alt="" class="slider-1251 slide-1259" title="btop-alt"/></li> <li style="display: none; width: 100%;" class="slide-1260 ms-image " aria-roledescription="slide" aria-label="slide-1260" data-date="2025-02-19 00:19:05"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/btop-tty-640x400.png" height="400" width="640" alt="" class="slider-1251 slide-1260" title="btop-tty"/></li> <li style="display: none; width: 100%;" class="slide-1257 ms-image " aria-roledescription="slide" aria-label="slide-1257" data-date="2025-02-19 00:19:05"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/btop-help-menu-640x400.png" height="400" width="640" alt="" class="slider-1251 slide-1257" title="btop-help-menu"/></li> <li style="display: none; width: 100%;" class="slide-1258 ms-image " aria-roledescription="slide" aria-label="slide-1258" data-date="2025-02-19 00:19:05"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/btop-main-menu-640x400.png" height="400" width="640" alt="" class="slider-1251 slide-1258" title="btop-main-menu"/></li> </ul> </div> </div> </div></div> <hr class="wp-block-separator has-alpha-channel-opacity"/> <h2 class="wp-block-heading">7. LNav | Logfile NAvigator</h2> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p>&#8220;El&#8221; visualizador de log&#8217;s para el terminal.<br/>Visualiza, mezcla, monitorea, busca / filtra logs con facilidad.</p> <ul class="wp-block-list"> <li>Sin dependencias / instalaciones complejas.</li> <li>Pasa un directorio / conjunto de archivos como parámetro y se encaga del resto.</li> <li>Procesamiento &#8220;al vuelo&#8221; de archivos comprimidos.</li> <li>Detección automática de formato de logs (extensible vía archivos de configuración).</li> <li>Performance inigualable (utiliza base SQLite indexada en RAM).</li> <li>Query de log&#8217;s con sintaxis SQL (para usuarios avanzados / generación de estadísticas).</li> <li>Archivos de log&#8217;s &#8220;gigantes&#8221; (tanto como RAM se disponga :D).</li> </ul> <div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-6c531013 wp-block-group-is-layout-flex"> <a href="https://opensource.org/licenses/BSD-2-Clause"> <img decoding="async" src="https://img.shields.io/badge/License-BSD_2--Clause-orange.svg" alt="License"/> </a> <a href="https://repology.org/project/lnav/versions"> <img decoding="async" src="https://repology.org/badge/tiny-repos/lnav.svg" alt="Packaging status"/> </a> <a href="https://repology.org/project/lnav/versions"> <img decoding="async" src="https://repology.org/badge/latest-versions/lnav.svg" alt="latest packaged version(s)"/> </a> </div> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Referencias</strong></p> <ul class="wp-block-list"> <li><a href="https://lnav.org/">https://lnav.org/</a></li> <li><a href="https://github.com/tstack/lnav">https://github.com/tstack/lnav</a></li> </ul> <p><strong>Instalación</strong></p> <div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code># Debian/Ubuntu
sudo apt install lnav
# CentOS/RHEL/Fedora/Rocky/Alma/Oracle
sudo dnf install lnav
# Arch
sudo pacman -S lnav
# Alpine
apk add lnav
# OpenSUSE / SUSE Linux
sudo zypper install lnav
# macOS
brew install lnav
# FreeBSD Unix
pkg install lnav</code></pre></div> </div> </div> <figure class="wp-block-image aligncenter size-full"><img loading="lazy" decoding="async" width="740" height="481" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/image-12.png" alt="" class="wp-image-1184"/></figure> <hr class="wp-block-separator has-alpha-channel-opacity"/> <h2 class="wp-block-heading">8. TLDR</h2> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p>El proyecto tldr-pages es una colección de páginas de ayuda, mantenidas por la comunidad, para herramientas de línea de comandos. Su objetivo es ser un complemento más simple y accesible a las tradicionales páginas de manual (man pages).</p> <p>¿Quizás eres nuevo en el mundo de la línea de comandos? ¿Tal vez estás un poco oxidado o no siempre recuerdas los argumentos de comandos como <code>lsof</code> o <code>tar</code>?<br/><br/>TLDR es la solución: documentación &#8220;útil&#8221; + ejemplos de uso.</p> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Referencias</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/tldr-pages/tldr">https://github.com/tldr-pages/tldr</a></li> <li><a href="https://tldr.sh/">https://tldr.sh/</a></li> </ul> <p><strong>Instalación</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/tldr-pages/tldr#how-do-i-use-it">https://github.com/tldr-pages/tldr#how-do-i-use-it</a></li> </ul> <div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-6c531013 wp-block-group-is-layout-flex"> <a href="https://creativecommons.org/licenses/by/4.0/"> <img decoding="async" src="https://img.shields.io/badge/License-CC_BY_4.0-lightgrey.svg" alt="Licence"/> </a> </div> </div> </div> <figure class="wp-block-image aligncenter size-full"><img loading="lazy" decoding="async" width="740" height="436" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/tldr-dark740x.png" alt="" class="wp-image-1310"/></figure> <h2 class="wp-block-heading">9. micro (y acá me pelean los vim fanboy&#8217;s)</h2> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p>Micro es un editor de texto basado en terminal que busca ser fácil de usar e intuitivo, al mismo tiempo que aprovecha las capacidades de los terminales modernos. Viene como un único binario estático, completo y sin dependencias; ¡puedes descargarlo y usarlo de inmediato!<br/>Como su nombre indica, Micro pretende ser una especie de sucesor del editor Nano, al ser fácil de instalar y usar. Su objetivo es ser un editor agradable para quienes prefieren trabajar en una terminal a tiempo completo o para aquellos que editan archivos con frecuencia a través de SSH.</p> <ul class="wp-block-list"> <li>Fácil de usar</li> <li>Altamente personalizable</li> <li>Colores y resaltado</li> <li>Cursores múltiples</li> <li>Sistema de complementos (plugins)</li> <li>Atajos de teclado comunes</li> <li>Soporte para mouse</li> <li>Emulador de terminal</li> </ul> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Referencias</strong></p> <ul class="wp-block-list"> <li><a href="https://micro-editor.github.io/">https://micro-editor.github.io/</a></li> <li><a href="https://github.com/zyedidia/micro">https://github.com/zyedidia/micro</a></li> <li>Plugins <ul class="wp-block-list"> <li><a href="https://micro-editor.github.io/plugins.html">https://micro-editor.github.io/plugins.html</a></li> </ul> </li> </ul> <p><strong>Instalación</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/zyedidia/micro?tab=readme-ov-file#installation">https://github.com/zyedidia/micro?tab=readme-ov-file#installation</a></li> </ul> <p><strong>Alternativas</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/gphalkes/tilde">https://github.com/gphalkes/tilde</a></li> </ul> <div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-6c531013 wp-block-group-is-layout-flex"> <a href="https://opensource.org/licenses/MIT"> <img decoding="async" src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="Licence"/> </a> <a href="https://repology.org/project/micro/versions"> <img decoding="async" src="https://repology.org/badge/tiny-repos/micro.svg" alt="Packaging status"/> </a> <a href="https://repology.org/project/micro/versions"> <img decoding="async" src="https://repology.org/badge/latest-versions/micro.svg" alt="latest packaged version(s)"/> </a> </div> </div> </div> <div class="alignnormal"><div id="metaslider-id-1289" style="width: 100%;" class="ml-slider-3-96-0 metaslider metaslider-flex metaslider-1289 ml-slider ms-theme-default-base has-dots-nav" role="region" aria-roledescription="Slideshow" aria-label="micro"> <div id="metaslider_container_1289"> <div id="metaslider_1289"> <ul class="slides"> <li style="display: block; width: 100%;" class="slide-1297 ms-image " aria-roledescription="slide" aria-label="slide-1297" data-date="2025-02-19 21:16:59"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/micro-solarized-740x390.png" height="390" width="740" alt="" class="slider-1289 slide-1297" title="micro-solarized"/></li> <li style="display: none; width: 100%;" class="slide-1298 ms-image " aria-roledescription="slide" aria-label="slide-1298" data-date="2025-02-19 21:17:00"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/micro-railscast-740x390.png" height="390" width="740" alt="" class="slider-1289 slide-1298" title="micro-railscast"/></li> <li style="display: none; width: 100%;" class="slide-1299 ms-image " aria-roledescription="slide" aria-label="slide-1299" data-date="2025-02-19 21:17:00"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/micro-twilight-740x390.png" height="390" width="740" alt="" class="slider-1289 slide-1299" title="micro-twilight"/></li> <li style="display: none; width: 100%;" class="slide-1300 ms-image " aria-roledescription="slide" aria-label="slide-1300" data-date="2025-02-19 21:17:00"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/micro-darcula-740x390.png" height="390" width="740" alt="" class="slider-1289 slide-1300" title="micro-darcula"/></li> <li style="display: none; width: 100%;" class="slide-1301 ms-image " aria-roledescription="slide" aria-label="slide-1301" data-date="2025-02-19 21:17:00"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/micro-one-dark-740x390.png" height="390" width="740" alt="" class="slider-1289 slide-1301" title="micro-one-dark"/></li> <li style="display: none; width: 100%;" class="slide-1302 ms-image " aria-roledescription="slide" aria-label="slide-1302" data-date="2025-02-19 21:17:00"><img loading="lazy" decoding="async" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/micro-monokai-740x390.png" height="390" width="740" alt="" class="slider-1289 slide-1302" title="micro-monokai"/></li> </ul> </div> </div> </div></div> <h2 class="wp-block-heading">10. Midnight Commander (y me siguen peleando :))</h2> <div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex"> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p>GNU Midnight Commander es un gestor de archivos visual (clon del viejo y conocido <a href="https://es.wikipedia.org/wiki/Norton_Commander">Norton Comander</a> (NC) de DOS), licenciado bajo la Licencia Pública General de GNU.<br/>Es una aplicación en modo texto de pantalla completa, rica en funciones, que permite copiar, mover y eliminar archivos y árboles de directorios completos, buscar archivos y ejecutar comandos.<br/>Incluye un visor y un editor internos (el editor mcedit puede utilizarse de forma independiente).<br/>Midnight Commander está basado en interfaces de texto versátiles, como Ncurses o S-Lang, lo que le permite funcionar en una consola normal, dentro de un terminal X Window, a través de conexiones SSH y en todo tipo de shells remotos.</p> </div> <div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"> <p><strong>Referencias</strong></p> <ul class="wp-block-list"> <li><a href="https://midnight-commander.org/">https://midnight-commander.org/</a></li> <li><a href="https://github.com/MidnightCommander/mc">https://github.com/MidnightCommander/mc</a></li> </ul> <p><strong>Instalación</strong></p> <p>Disponible en repositorios de software de prácticamente cualquier versión de linux</p> <p><strong>Alternativas</strong></p> <ul class="wp-block-list"> <li><a href="https://github.com/jarun/nnn">https://github.com/jarun/nnn</a></li> <li><a href="https://github.com/ranger/ranger">https://github.com/ranger/ranger</a></li> </ul> <div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-6c531013 wp-block-group-is-layout-flex"> <a href="https://repology.org/project/mc/versions"> <img decoding="async" src="https://repology.org/badge/tiny-repos/mc.svg" alt="Packaging status"/> </a> <a href="https://repology.org/project/mc/versions"> <img decoding="async" src="https://repology.org/badge/latest-versions/mc.svg" alt="latest packaged version(s)"/> </a> </div> </div> </div> <figure class="wp-block-image aligncenter size-full"><img loading="lazy" decoding="async" width="721" height="434" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/02/image-8.png" alt="" class="wp-image-1172"/></figure> <p></p>]]></content><author><name></name></author><category term="external-posts"/><category term="locosporlaradio"/><category term="radio"/><summary type="html"><![CDATA[Y arrancamos la serie con 10 herramientas de código abierto de propósito general (no pre-instaladas)...]]></summary></entry><entry><title type="html">Repetidora de banda cruzada “del hombre pobre”</title><link href="https://luispichio.github.io/blog/2025/repetidora-de-banda-cruzada-del-hombre-pobre/" rel="alternate" type="text/html" title="Repetidora de banda cruzada “del hombre pobre”"/><published>2025-01-23T04:42:48+00:00</published><updated>2025-01-23T04:42:48+00:00</updated><id>https://luispichio.github.io/blog/2025/repetidora-de-banda-cruzada-del-hombre-pobre</id><content type="html" xml:base="https://luispichio.github.io/blog/2025/repetidora-de-banda-cruzada-del-hombre-pobre/"><![CDATA[<p>En nuestro grupo de radioaficionados, siempre hemos buscado maneras de mejorar la actividad radial en nuestra zona. Sin embargo, los altos costos de los repetidores comerciales / duplexores nos han llevado a idear soluciones más accesibles. Así nació este proyecto de repetidora de banda cruzada, una alternativa económica y funcional que aprovecha equipos en desuso y fomenta la experimentación.</p> <figure class="wp-block-image size-full"><img loading="lazy" decoding="async" width="1127" height="708" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250121_013351602_SMALL.jpg" alt="" class="wp-image-1053" srcset="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250121_013351602_SMALL.jpg 1127w, https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250121_013351602_SMALL-1024x643.jpg 1024w, https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250121_013351602_SMALL-540x340.jpg 540w, https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250121_013351602_SMALL-400x250.jpg 400w" sizes="auto, (max-width: 1127px) 100vw, 1127px"/></figure> <p>Desde el principio, supimos que tendríamos que sortear varios desafíos técnicos. Una de las principales dificultades al construir una repetidora es evitar que la propia transmisión ensordezca la recepción, especialmente cuando se opera en la misma banda sin un duplexor. Para superar esto, decidimos implementar una banda cruzada VHF -&gt; UHF, lo que nos permitió minimizar interferencias y mejorar la calidad de la señal.</p> <p>Otro problema común que encontramos en muchos videos de YouTube era la promesa de resultados &#8220;mágicos&#8221; utilizando handies económicos / sin controladora / sin la debida separación entre antenas. Queríamos desmitificar estas soluciones poco prácticas y demostrar que, con un diseño adecuado, es posible lograr un sistema confiable y funcional sin necesidad de grandes inversiones.</p> <h3 class="wp-block-heading">Un Diseño Basado en Simplicidad y Eficiencia</h3> <p>El sistema se construyó con componentes comunes y de bajo costo, utilizando una placa perforada en lugar de un PCB formal (la impaciencia nos ganó esta vez). Integra un identificador en CW con mensaje configurable y la posibilidad de solicitud bajo demanda. Además, cuenta con un sistema anti-ponchos con tonos de preaviso ajustables y soporte para tonos CTCSS y DSQ según los equipos en uso.</p> <figure class="wp-block-image aligncenter size-full"><img loading="lazy" decoding="async" width="1557" height="725" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/SimpleRepeaterController.png" alt="" class="wp-image-1049" srcset="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/SimpleRepeaterController.png 1557w, https://locosporlaradio.com.ar/wp-content/uploads/2025/01/SimpleRepeaterController-1536x715.png 1536w, https://locosporlaradio.com.ar/wp-content/uploads/2025/01/SimpleRepeaterController-1024x477.png 1024w" sizes="auto, (max-width: 1557px) 100vw, 1557px"/></figure> <figure class="wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-1 is-layout-flex wp-block-gallery-is-layout-flex"> <figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="640" height="479" data-id="1051" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250121_013524362_640x479.jpg" alt="" class="wp-image-1051"/></figure> <figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="640" height="479" data-id="1050" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250121_013449798_640x479.jpg" alt="" class="wp-image-1050"/></figure> </figure> <p>Puedes encontrar el código y el diseño en nuestro repositorio de GitHub: <a href="https://github.com/luispichio/SimpleRepeaterController">SimpleRepeaterController</a>.</p> <h3 class="wp-block-heading">Experiencia y Resultados</h3> <p>El camino hacia una repetidora estable no fue fácil. Inicialmente, probamos con COR por VOX analógicos, pero los resultados fueron decepcionantes: oscilaciones, interferencias de RF y una estabilidad poco confiable. Esto nos motivó a diseñar nuestro propio controlador basado en Arduino, logrando un sistema mucho más robusto.</p> <p>Para las antenas, optamos por verticales de ángulo bajo de irradiación con separación vertical, lo que ayudó a mejorar la aislación. A pesar de la baja altura de instalación, las pruebas de la lógica del controlador y los front-end de RF dieron resultados aceptables, con margen para futuras mejoras.</p> <figure class="wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-2 is-layout-flex wp-block-gallery-is-layout-flex"> <figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="479" height="640" data-id="1070" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250122_184652572-640-rotated.jpg" alt="" class="wp-image-1070"/></figure> <figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="479" height="640" data-id="1074" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250122_210659371_HDR-640-rotated.jpg" alt="" class="wp-image-1074"/></figure> <figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="640" height="480" data-id="1071" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250123_192134015-640.jpg" alt="" class="wp-image-1071"/></figure> <figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="479" height="640" data-id="1072" src="https://locosporlaradio.com.ar/wp-content/uploads/2025/01/IMG_20250129_183832975-640-rotated.jpg" alt="" class="wp-image-1072"/></figure> </figure> <h3 class="wp-block-heading">Próximos Pasos</h3> <p>A medida que el proyecto avanza, tenemos varias mejoras en mente:</p> <ul class="wp-block-list"> <li>Implementar control remoto mediante DTMF, permitiendo acciones como el apagado del sistema.</li> <li>Mejorar el antenamiento e instalar la repetidora a mayor altura para ampliar su cobertura.</li> <li>Gestionar los aspectos legales y solicitar autorización al ente regulador para operar en las frecuencias asignadas.</li> <li>&#8230;</li> </ul> <h3 class="wp-block-heading">Evolución a Mediano Plazo</h3> <p>Con el tiempo, planeamos migrar el controlador a un ESP32DR Simple, lo que nos permitiría agregar funcionalidades avanzadas como:</p> <ul class="wp-block-list"> <li>Procesamiento de audio con filtros y AGC.</li> <li>Enlace con modos digitales como M17 y Peanut.</li> <li>Identificador con voz humana y soporte APRS.</li> <li>Control y configuración remota vía WiFi.</li> <li>Sincronización de fecha y hora por NTP.</li> <li>Integración con una estación meteorológica para incluir datos en la identificación / bajo demanda</li> <li>&#8230;</li> </ul> <h4 class="wp-block-heading">Referencias:</h4> <ul class="wp-block-list"> <li><a href="https://github.com/nakhonthai/ESP32APRS">ESP32APRS</a></li> <li><a href="https://github.com/nakhonthai/M17AnalogGateway">M17AnalogGateway</a></li> </ul> <p>Si eres radioaficionado / apasionado por la electrónica y quieres participar, ¡te invitamos a sumarte a nuestras pruebas y experimentos!<br/>Juntos, podemos seguir mejorando este u otro proyecto y expandiendo la comunidad.</p>]]></content><author><name></name></author><category term="external-posts"/><category term="locosporlaradio"/><category term="radio"/><summary type="html"><![CDATA[En nuestro grupo de radioaficionados, siempre hemos buscado maneras de mejorar la actividad radial en...]]></summary></entry><entry><title type="html">Arduino - Generación de señales de VGA con Arduino DUE</title><link href="https://luispichio.github.io/blog/2016/arduino-generacin-de-seales-de-vga-con-arduino-due/" rel="alternate" type="text/html" title="Arduino - Generación de señales de VGA con Arduino DUE"/><published>2016-06-21T02:08:00+00:00</published><updated>2016-06-21T02:08:00+00:00</updated><id>https://luispichio.github.io/blog/2016/arduino---generacin-de-seales-de-vga-con-arduino-due</id><content type="html" xml:base="https://luispichio.github.io/blog/2016/arduino-generacin-de-seales-de-vga-con-arduino-due/"><![CDATA[<p>    Buenas!<br/>     Un año después del último artículo (como me cuesta sentarme a escribir), en base a una propuesta de un lector del blog (único comentario hasta el día de la fecha) y continuando el artículo <a href="http://luispichio.blogspot.com.ar/2015/05/arduino-generacion-de-senales-de-vga.html" target="_blank">Arduino - Generación de señales de VGA con hardware estádar</a> decidí modificar la librería para un Arduino mas potente: Arduino DUE con la finalidad de obtener mejor resolución / rendimiento y poder darle uso práctico.<br/> <br/></p> <div> &nbsp; &nbsp; Las características del Arduino Due lo hacen por demás interesante para esta aplicación.<br/> Cuenta con controlador Atmel AT91SAM3X8E que corre a 84mhz, 96k de ram y 512kb de flash entre otras.<br/> &nbsp; &nbsp; Los 84mhz de clock a unas 3 instrucciones por pixel permitirían teóricamente alcanzar las frecuencias requeridas para el estándar 640 x 480 (25.175mhz) aunque la memoria ram disponible no lo permite a 8bits por color (256 colores): 640 x 480 x 8bits =&nbsp;307200bytes.</div> <div> &nbsp; &nbsp; Optaremos por una resolución de 320*240*256 colores (76800bytes de RAM), resolución mas que suficiente para las aplicaciones que tengo en mente del sistema.<br/> <br/> <b>Implementación</b><br/> <b><br/></b> <b>Hardware</b><br/> <br/></div> <div> &nbsp; &nbsp; En esta oportunidad <b>no fabriqué</b> un impreso para el DAC conformado por resistencias. En su lugar armé el pack "en el aire", encinté y empaqueté con PVC.<br/> &nbsp; &nbsp; El DAC de resistencias en escalera difiere al anterior producto de que el Arduino Due utiliza 3v3 para alimentación en lugar de los 5v del Arduino estándar.<br/> &nbsp; &nbsp; Las señales de sincronismo, según especificación (bastante variada por cierto) deberían ser 0 - 5v. Prácticamente hablando no tuve problemas hasta ahora en los monitores que probé con señales 0 - 3v3.<br/> <br/> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgs5JkTwemfzy1iZpQHTrIjflYDk5BHc0PHwNyiMbcChFkbQQ-7Hph1GZ701GJbnZVEFMRUyqjsWlUnk4yNmbVK_DZRtJeibRk0M-68KykLwq81w2CVbCS6loiEjrovCqXgP3QGosxoCq1Q/s1600/build.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="524" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgs5JkTwemfzy1iZpQHTrIjflYDk5BHc0PHwNyiMbcChFkbQQ-7Hph1GZ701GJbnZVEFMRUyqjsWlUnk4yNmbVK_DZRtJeibRk0M-68KykLwq81w2CVbCS6loiEjrovCqXgP3QGosxoCq1Q/s640/build.jpg" width="640"/></a></div> <div class="separator" style="clear: both; text-align: center;"> ladder de resistencias empaquetado en pvc</div> <div class="separator" style="clear: both; text-align: center;"> <br/></div> <div class="separator" style="clear: both; text-align: center;"> <br/></div> <b>Diagrama de conexionado</b><br/> <b><br/></b> &nbsp; &nbsp; Utilizaremos al igual que en el proyecto anterior el DAC ladder con 3bits para rojo y verde y 2bits para el azul (<a href="https://en.wikipedia.org/wiki/List_of_monochrome_and_RGB_palettes#3-3-2_bit_RGB" target="_blank">RGB 3-2-2</a>).<b><br/></b>&nbsp; &nbsp; El microcontrolador cuenta con hasta 6 puertos de 32bits (hasta 32 pines) que están disponibles total o parcialmente dependiendo del modelo de controlador (encapsulado / cantidad de pines).<br/> &nbsp; &nbsp; Utilizaremos en este caso el único de los puertos (PIOD) que tiene "conexionado" al exterior desde el pin 0 del puerto (8bits menos significativos en el registro de acceso al puerto).<br/> &nbsp; &nbsp; El conexionado es algo "rebuscado" (los muchachos que diseñan los Arduino no suelen pensar en aquellas aplicaciones de tiempo crítico) pero no hay alternativas si se pretende tener el rendimiento buscado.<br/> <br/> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg1wWHEMyjHQi_HObKxLimci2WXqXMKOczHGbPahpk0hXXHpzuG46iibkQbjGaLrr4lDMxaalUK6uRDZgOzHJsDLGEyCNlD0aWxpPuQbYr4kCfFGzawdcfwzPvi_MQ-KXw1Npu5ep8KGwVU/s1600/Arduino+Due+VGA+-+Circuit+%2528Color%2529.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="251" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg1wWHEMyjHQi_HObKxLimci2WXqXMKOczHGbPahpk0hXXHpzuG46iibkQbjGaLrr4lDMxaalUK6uRDZgOzHJsDLGEyCNlD0aWxpPuQbYr4kCfFGzawdcfwzPvi_MQ-KXw1Npu5ep8KGwVU/s640/Arduino+Due+VGA+-+Circuit+%2528Color%2529.jpg" width="640"/></a></div> <div style="text-align: center;"> diagrama de conexionado</div> <div style="text-align: center;"> <br/></div> <div style="-webkit-text-stroke-width: 0px; color: black; font-family: &quot;Times New Roman&quot;; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px;"> </div> <b>VGA Monocromático</b><br/> <div> <br/></div> <div> &nbsp; &nbsp; Sin implementar de momento. Veré de utilizar en lo próximo algunos de los periféricos de comunicaciones del controlador. Los primeros vistazos al USART no son muy alentadores. El baudrate máximo es FOSC / 16 (84mhz / 16 para nuestro caso = 5.25mhz), bastante por debajo de lo requerido para la resolución buscada.</div> <div> <br/> <b>Software</b><br/> <b><br/></b>&nbsp; &nbsp; La librería es la de&nbsp;<a href="http://luispichio.blogspot.com.ar/2015/05/arduino-generacion-de-senales-de-vga.html" target="_blank">Arduino VGA</a>&nbsp;con algunas modificaciones / agregados.<br/> &nbsp; &nbsp; En este caso ArduinoDueVGAEngine.cpp, producto de las características del microcontrolador está íntegramente escrita en C a diferencia de la anterior que está escrita mayormente en ensamblador (generación de video) por cuestiones de rendimiento.<br/> <div> &nbsp; &nbsp; Para la generación de las señales de sincronismo utilicé uno de los 9 timers de 32bits disponibles.<br/> Las señales de sincronismo no tienen latencia (o es despreciable), producto de que se utiliza la funcionalidad "generación de señales" del timer. La señal de video se realiza dentro de la rutina de interrupción. Como en cualquier controlador existe una pequeña latencia variable entre el tiempo configurado y la ejecución de la rutina (código). Para compensar esto, en el artículo anterior realicé una rutina de demora variable. Luego de las primeras pruebas, al no poder "dar pié con bola" me interioricé con el funcionamiento del controlador y descubrí que cuenta con un Pipeline de 3 etapas; Hablando en criollo es capaz de ejecutar mas de una instrucción por ciclo de ejecución motivo por el cual es extremadamente dificultoso realizar rutinas de demora con la exactitud requerida. Esto deriva en un defecto de <a href="https://es.wikipedia.org/wiki/Jitter" target="_blank">Jitter</a> de video.</div> <div> &nbsp; &nbsp; Como memoria de video se utiliza un vector de 76800bytes (320 x 240 x 8bits) como buffer intermedio de las rutinas de la clase pública y las rutinas de bajo nivel de generación de señal de video. Quedan disponibles para la aplicación ~21500 bytes de RAM.</div> <div> <br/></div> </div> <b>Librería</b><br/> <br/> &nbsp; &nbsp; Al igual que el proyecto original, la librería está compuesta por una clase pública para el usuario (ArduinoDueVGA.cpp) y una librería de bajo nivel (ArduinoDueVGAEngine.cpp) con las rutinas de generación de señal.<br/> &nbsp; &nbsp; La misma es de código abierto (licencia a definir) y puede ser descargada desde la web de SourceForge desde <a href="https://sourceforge.net/projects/arduino-vga/" target="_blank">aquí</a>.<br/> &nbsp; &nbsp; Para detalles sobre la utilización referirse a apartado <b>Instalación / Utilización</b> del artículo&nbsp;<a href="http://luispichio.blogspot.com.ar/2015/05/arduino-generacion-de-senales-de-vga.html" target="_blank">Arduino - Generación de señales de VGA con hardware estádar</a>.<br/> <br/> <div style="text-indent: 0px;"> <div style="margin: 0px;"> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <b>Resultados</b></div> <ul> <li style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">Aceptables en relación a simplicidad del circuito / software.</li> <li style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">La resolución de 320 x 240 pixeles es una de las clásicas (junto con la 320 x 200) de demoscene y juegos de los 80's / 90's es suficiente para lograr representaciones aceptables.</li> <li><span style="font-family: &quot;times new roman&quot;;">Independientemente del aumento de la potencia de cálculo, la generación de señal de video continúa siendo una tarea crítica:</span></li> <ul> <li><span style="font-family: &quot;times new roman&quot;;">La utilización de rutinas de interrupción "pesadas" puede generar Jitter de video.</span></li> <li><span style="font-family: &quot;times new roman&quot;;">El tiempo de procesador disponible ronda el 8%,</span></li> </ul> <li><span style="font-family: &quot;times new roman&quot;;">No le encontré la vuelta para poder generar la señal de video sin <a href="https://es.wikipedia.org/wiki/Jitter" target="_blank">Jitter</a>, producto de las latencias en la ejecución de rutinas de interrupción y del tiempo de ejecución variable por instrucción (Pipelines).&nbsp;Se observa en la imagen siguiente el defecto.</span></li> </ul> <div class="separator" style="clear: both; color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-align: center; text-transform: none; white-space: normal; word-spacing: 0px;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjHQ1OxXnQlvWQ4zbw5SMJcuuN3F-0nB2eScNV8iO4WEB74jqd6BwSBdV1Te4Rr-i6ts8z9Wn9_aYcCNrdCqwlUYmsweqnC7HQ9vnnSWJ-QKPuGejaJxNFV_CusBTW8i5uykxY_MN0mOKRH/s1600/jitter+%2528Custom%2529.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="194" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjHQ1OxXnQlvWQ4zbw5SMJcuuN3F-0nB2eScNV8iO4WEB74jqd6BwSBdV1Te4Rr-i6ts8z9Wn9_aYcCNrdCqwlUYmsweqnC7HQ9vnnSWJ-QKPuGejaJxNFV_CusBTW8i5uykxY_MN0mOKRH/s320/jitter+%2528Custom%2529.jpg" width="320"/></a></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <br/></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <br/></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <b>Ejemplos</b></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <b><br/></b></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> &nbsp; &nbsp; &nbsp; &nbsp; Van un par de videos de ejemplos de utilización:</div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;El primero un ejemplo que va junto con la librería de varios efectos de demoscene, algunos fractales y fuentes.</div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;El segundo un clon de Pacman en desarrollo (a medio terminar) que no forma parte de la librería. En cuanto lo termine lo publicaré y formará parte del contenido del blog.</div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <br/></div> <div class="separator" style="clear: both; color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-align: center; text-transform: none; white-space: normal; word-spacing: 0px;"> <iframe allowfullscreen="" class="YOUTUBE-iframe-video" data-thumbnail-src="https://i.ytimg.com/vi/ZNadrVivVIQ/0.jpg" frameborder="0" height="266" src="https://www.youtube.com/embed/ZNadrVivVIQ?feature=player_embedded" width="320"></iframe><iframe allowfullscreen="" class="YOUTUBE-iframe-video" data-thumbnail-src="https://i.ytimg.com/vi/tSK98D-VxVg/0.jpg" frameborder="0" height="266" src="https://www.youtube.com/embed/tSK98D-VxVg?feature=player_embedded" width="320"></iframe></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <br/></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <b>En lo próximo</b></div> </div> <div style="margin: 0px;"> <span style="font-family: &quot;times new roman&quot;;">&nbsp; &nbsp; Tal como lo había propuesto en el artículo anterior, tengo diseñado desde hace ya algunos meses un Shield (económico) para Arduino con un controlador mas potente (</span><span style="font-family: &quot;times new roman&quot;;">ATxmega)&nbsp;</span><span style="font-family: &quot;times new roman&quot;;">exclusivo para la generación de señales de video, memoria RAM onboard y algún que otro chiche.</span><br/> <span style="font-family: &quot;times new roman&quot;;">&nbsp; &nbsp; En cuanto tenga un rato voy a "cocinar" el impreso y empezaré a escribir algo de código.</span><br/> <span style="font-family: &quot;times new roman&quot;;">&nbsp; &nbsp; Estará disponible en cuanto lo tenga listo para publicar (al ritmo que vengo lamentablemente dentro de un año :P).</span><br/> <br/> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi2uysl6iwmeaXGYi1ukYMNB1jz8oltIP4GdjgI6ppX1yYdWRh8xWAfsSwAY3dZihSey2X6UkMOSC7TseTjdRf9NfIdEgm3rR39tGL9RLHu0Sv-qCui1260wq8FjS6kfSL6x3CdRhwzS7rg/s1600/ArduinoVGAShield.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="380" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi2uysl6iwmeaXGYi1ukYMNB1jz8oltIP4GdjgI6ppX1yYdWRh8xWAfsSwAY3dZihSey2X6UkMOSC7TseTjdRf9NfIdEgm3rR39tGL9RLHu0Sv-qCui1260wq8FjS6kfSL6x3CdRhwzS7rg/s640/ArduinoVGAShield.png" width="640"/></a></div> <span style="font-family: &quot;times new roman&quot;;"><br/></span> <span style="font-family: &quot;times new roman&quot;;">&nbsp; &nbsp;&nbsp;</span><br/> <span style="font-family: &quot;times new roman&quot;;">&nbsp; Doy por terminado este artículo, espero el contenido haya sido de utilidad.</span><br/> <span style="font-family: &quot;times new roman&quot;;">&nbsp; Cualquier duda no duden en consultar, nos vemos en la siguiente entrada.</span><br/> <span style="font-family: &quot;times new roman&quot;;">&nbsp; Saludos, Luis.-</span><br/> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <span style="font-family: &quot;times new roman&quot;;"><br/></span></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <span style="font-family: &quot;times new roman&quot;;"><b>Referencias</b></span></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> <span style="font-family: &quot;times new roman&quot;;"><b><br/></b></span></div> <span style="font-family: &quot;times new roman&quot;;"><b>Arduino - Generación de señales de VGA con hardware estádar</b></span><br/> <span style="font-family: &quot;times new roman&quot;;">&nbsp; <a href="http://luispichio.blogspot.com.ar/2015/05/arduino-generacion-de-senales-de-vga.html">http://luispichio.blogspot.com.ar/2015/05/arduino-generacion-de-senales-de-vga.html</a></span><br/> <span style="font-family: &quot;times new roman&quot;;"><b>Arduino Due</b></span><br/> <span style="font-family: &quot;times new roman&quot;;">&nbsp;&nbsp;<a href="https://www.arduino.cc/en/Main/ArduinoBoardDue">https://www.arduino.cc/en/Main/ArduinoBoardDue</a></span><br/> <span style="font-family: &quot;times new roman&quot;;">&nbsp;&nbsp;<a href="https://www.arduino.cc/en/uploads/Main/arduino-Due-schematic.pdf">https://www.arduino.cc/en/uploads/Main/arduino-Due-schematic.pdf</a></span></div> <div style="color: black; font-family: &quot;times new roman&quot;; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; margin: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"> <b>Calculador ladder: RL-DAC</b></div> </div> &nbsp; <a href="https://code.google.com/archive/p/rl-dac/">https://code.google.com/archive/p/rl-dac/</a><br/> &nbsp; <a href="https://raronoff.wordpress.com/2012/10/17/rl-dac/">https://raronoff.wordpress.com/2012/10/17/rl-dac/</a></div>]]></content><author><name></name></author><category term="external-posts"/><category term="blogspot"/><category term="electrónica"/><category term="radio"/></entry><entry><title type="html">Arduino - Interfaz para Joystick de Family Game</title><link href="https://luispichio.github.io/blog/2015/arduino-interfaz-para-joystick-de-family-game/" rel="alternate" type="text/html" title="Arduino - Interfaz para Joystick de Family Game"/><published>2015-06-09T03:51:00+00:00</published><updated>2015-06-09T03:51:00+00:00</updated><id>https://luispichio.github.io/blog/2015/arduino---interfaz-para-joystick-de-family-game</id><content type="html" xml:base="https://luispichio.github.io/blog/2015/arduino-interfaz-para-joystick-de-family-game/"><![CDATA[<div class="separator" style="clear: both; text-align: left;"> &nbsp; Buscando un control para un par de proyectos con Arduino que estoy desarrollando encontré una par de Joystick's de un viejo Clon Family (Dynacom en rigor de verdad) y me parecieron adecuados para la aplicación.</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Tratando de encontrar en internet la forma de conexionado y una librería para el manejo me encontré con que no coincidía la información existente con el PinOut del controlador que tenía en mi poder.</div> <div class="separator" style="clear: both; text-align: left;"> <br/></div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhdAnVLhap9DmzpJwPwNFBR3onp9Obv8dk9kYSK-TlSOO82mV4qLGFNWL5_aC4RilCupAvcMDGymkfeDK7usOCBKCcNYoLcGpcbtkcJAdkDjocyntYlmckszLC813pvldlimsmo4f8pVwTk/s1600/joy9p.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="156" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhdAnVLhap9DmzpJwPwNFBR3onp9Obv8dk9kYSK-TlSOO82mV4qLGFNWL5_aC4RilCupAvcMDGymkfeDK7usOCBKCcNYoLcGpcbtkcJAdkDjocyntYlmckszLC813pvldlimsmo4f8pVwTk/s400/joy9p.gif" width="400"/></a></div> <div class="separator" style="clear: both; text-align: center;"> <br/></div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Después de desarmar, analizar un poco el circuito (mas detalles abajo para los interesados) y de hacer un "tanteo" logré dar con el PinOut y el protocolo para la lectura de teclas.</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Desarrollé una librería (si bien hay alguna que se podría llegar a adaptar me gusta perder tiempo ;)) simple para el manejo.</div> <div class="separator" style="clear: both; text-align: left;"> <br/></div> <div class="separator" style="clear: both; text-align: center;"> <b><span style="font-size: large;"><u>A los bifes</u></span></b></div> <div class="separator" style="clear: both; text-align: left;"> <br/></div> <div class="separator" style="clear: both; text-align: left;"> <b><span style="font-size: large;">PinOut</span></b></div> <div class="" style="clear: both; text-align: left;"> &nbsp; Los muchachos que clonaron al NES no se gastaron mucho con respecto; Si bien el PinOut y el conector es distinto, comparten señales con los Joystick clásicos de NES / SNES (supongo empezaron haciendo Joystick's genéricos para las NES :P).</div> <div class="separator" style="clear: both; text-align: left;"> <br/></div> <div style="text-align: center;"> </div> <div style="text-align: center;"> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEilvZFR8G0nIlq6xBf4caQd_Mmt9-7tuMCpeJveyxJBqSPE7uhaoK-Hu8LQt3Pfta3cevwnScqqbdy9VoGuDLkcPGXaJPjSvlme4ZzPiQj5SIWAZKzCWCBFDY2RbSf5e4u9gfuAYjbLJ-XY/s1600/Family+Game+Joystick+-+PinOut.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="300" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEilvZFR8G0nIlq6xBf4caQd_Mmt9-7tuMCpeJveyxJBqSPE7uhaoK-Hu8LQt3Pfta3cevwnScqqbdy9VoGuDLkcPGXaJPjSvlme4ZzPiQj5SIWAZKzCWCBFDY2RbSf5e4u9gfuAYjbLJ-XY/s400/Family+Game+Joystick+-+PinOut.jpg" width="400"/></a></div> <br/></div> <p>  El conector utilizado es un clásico DB9 utilizando solo cinco pines de los nueve; dos para alimentación y tres para señal.<br/></p> <div class="" style="clear: both; text-align: left;"> &nbsp; La alimentación (VCC + GND) es de 5V (probé con 3V3 y funcionó perfectamente).</div> <div class="" style="clear: both; text-align: left;"> &nbsp; Con respecto a los pines de señal:</div> <div class="" style="clear: both; text-align: left;"> &nbsp; &nbsp; Latch: Entrada digial que toma el estado de cada botón del controlador (pueden haber varios apretados a la vez) y genera un registro de tantos bits como botones (8).</div> <div class="" style="clear: both; text-align: left;"> &nbsp; &nbsp; Clock: Entrada digital de reloj que produce el desplazamiento del registro de 8bits con el estado de cada botón (1 bit por botón).</div> <div class="" style="clear: both; text-align: left;"> &nbsp; &nbsp; Data: Salida digital. Bit a bit (desplazamiento) del registro de estado de cada botón.</div> <p><br/> <b><span style="font-size: large;">Conexionado</span></b><br/>   Para el conexionado se pueden utilizar cualquiera de las E/S del Arduino (inclusive las analógicas).<br/>   Para el ejemplo utilicé las E/S 49 para Data, 51 para Latch y 53 para el Clock (los pines utilizados se pasan como parámetros de la rutina de inicialización de la librería).<br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRsVmxOfKdgBUp0RGVl33hIJIhSl3q_Raede6KTmZn_v-ijHp3MTaztOHclQ09lVmyTGkSihd5FTH8dv48XD-fdp4d-UmpRbz4BOLvjU5YLtsiDUD0BsSBiuaUbG3Zxc8qHW_sy19Uud4F/s1600/Family+Game+Joystick+-+Conexionado.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="324" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRsVmxOfKdgBUp0RGVl33hIJIhSl3q_Raede6KTmZn_v-ijHp3MTaztOHclQ09lVmyTGkSihd5FTH8dv48XD-fdp4d-UmpRbz4BOLvjU5YLtsiDUD0BsSBiuaUbG3Zxc8qHW_sy19Uud4F/s640/Family+Game+Joystick+-+Conexionado.jpg" width="640"/></a></div> <p><b><span style="font-size: large;">Protocolo</span></b><br/>   El protocolo utilizado es el de los Joystick’s NES:<br/>     60 veces por segundo, el CPU del NES genera un pulso de 12uS sobre el pin Latch. Esta señal toma el estado de cada botón y el mismo se almacena a razón de 1 bit por botón en un registro de 8 bits.<br/>     6 uS después el CPU envía un tren de 8 pulsos de 12uS de período al 50% de duty (6uS de estado bajo + 6uS de estado alto) por el pin Clock.<br/>     Sincronizado con el flanco descendiente del pin clock se realiza un <a href="http://es.wikipedia.org/wiki/Registro_de_desplazamiento" target="_blank">desplazamiento del registro</a> de 8 bits por el pin Data. El CPU del NES captura el estado de cada botón leyendo el estado del pin Data en cada flanco ascendente del pin Clock.<br/>     Cada botón tiene su “bit” específico.<br/> <br/>   Lo anteriormente mencionado puede apreciarse en la siguiente figura:<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEirMNabmEvUvP02M1hGP-nl4OoKE5n8B4-okkDdy_CdEAV3R5YYfdtPRf57uLdaQURL_lJOxorRoEoFKjKLT5KzjBkXO57v5fp7x3REGNuC5nMHJJVKoq3GnF7TunQkyxWxoqS5aNa5-LG2/s1600/Family+Game+Joystick+-+Timing.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="104" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEirMNabmEvUvP02M1hGP-nl4OoKE5n8B4-okkDdy_CdEAV3R5YYfdtPRf57uLdaQURL_lJOxorRoEoFKjKLT5KzjBkXO57v5fp7x3REGNuC5nMHJJVKoq3GnF7TunQkyxWxoqS5aNa5-LG2/s640/Family+Game+Joystick+-+Timing.jpg" width="640"/></a></div> <p><br/>   <b>Notas</b><br/>     Es posible presionar múltiples teclas al mismo tiempo sin ningún inconveniente (salida con tantos bits 1 como botones apretados).<br/>     Si bien el Joystick tiene 10 botones, 2 de los mismos son “virtuales”. A y B turbo equivalen a la pulsación repetida de los botones A y B respectivamente.<br/> <br/>   La rutina de “lectura” de teclas es de implementación extremadamente sencilla:<br/> <br/></p> <pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;">unsigned char CheckButtons(void){
  unsigned char buttons = 0;
  unsigned char i;
  digitalWrite(_LatchPin, 1);
  delayMicroseconds(12);
  digitalWrite(_LatchPin, 0);
  for (i = 0 ; i &lt; BUTTON_COUNT ; i++){
    delayMicroseconds(6);
    buttons &lt;&lt;= 1;
    buttons |= digitalRead(_DataPin) ? 0 : 1;
    digitalWrite(_ClockPin, 1);
    delayMicroseconds(6);
    digitalWrite(_ClockPin, 0);
  } 
  return buttons;
}
</pre> <p><br/> <b><span style="font-size: large;">Librería</span></b><br/>   La librería de control es bien simple; Se trata de una única clase que verifica las teclas pulsadas / presionadas y genera los eventos asociados.<br/>   Puede descargarse del <a href="https://sourceforge.net/projects/luispichio/" target="_blank">repositorio de blog</a> desde <a href="https://sourceforge.net/projects/luispichio/files/arduino/FamilyGameJoystick/" target="_blank">aquí</a><br/>   Características generales:<br/>     No utiliza interrupciones (usa <a href="http://es.wikipedia.org/wiki/Polling" target="_blank">Polling</a>).<br/>     Cuenta con Buffer circular de los últimos botones presionados (últimos 16).<br/>     Se pueden asociar Callback’s a los eventos de teclas presionadas y pulsadas.<br/>     Permite la utilización de múltiples instancias (más de 1 Joystick).<br/> <br/> <b>Clase pública</b><br/></p> <pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;">class FamilyGameJoystick {
  public:
    void Init(unsigned char DataPin, unsigned char LatchPin, unsigned char ClockPin);
    void Release(void);
    unsigned char Poll(void);
    bool ButtonDown(unsigned char button);
    bool ButtonPressed(void);
    unsigned char GetButton(void);
    void onButtonDown(void (*function)(unsigned char));
    void onButtonPress(void (*function)(unsigned char));
};
</pre> <p><br/> <b>Constantes utilizadas</b><br/>   BUTTON_RIGHT<br/> <span class="Apple-tab-span" style="white-space: pre;"> </span>BUTTON_LEFT<br/> <span class="Apple-tab-span" style="white-space: pre;"> </span>BUTTON_DOWN<br/> <span class="Apple-tab-span" style="white-space: pre;"> </span>BUTTON_UP<br/> <span class="Apple-tab-span" style="white-space: pre;"> </span>BUTTON_START<br/> <span class="Apple-tab-span" style="white-space: pre;"> </span>BUTTON_SELECT<br/> <span class="Apple-tab-span" style="white-space: pre;"> </span>BUTTON_B<br/> <span class="Apple-tab-span" style="white-space: pre;"> </span>BUTTON_A<br/> <br/> <b>Descripción de los métodos</b><br/> <b><br/></b> <span style="font-size: x-small;"><b>void Init(</b><b>unsigned char</b><b> DataPin, </b><b>unsigned char</b><b> ClockPin, </b><b>unsigned char</b><b> LatchPin);</b></span><br/> <span style="font-size: x-small;">Rutina de inicialización de la librería.</span><br/> <span style="font-size: x-small;">Se pasan como parámetros los pines del Arduino conectados a los pines Data (pin 4 del DB9), Clock (pin 2 del DB9) y Latch (pin 3 del DB9) del Joystick.</span><br/> <span style="font-size: x-small;"><br/></span> <b><span style="font-size: x-small;">void Release(void);</span></b><br/> <span style="font-size: x-small;">Libera los recursos asociados a la librería (puertos).</span><br/> <span style="font-size: x-small;"><br/></span> <b><span style="font-size: x-small;">unsigned char Poll(void);</span></b><br/> <span style="font-size: x-small;">Rutina de Polling.</span><br/> <span style="font-size: x-small;">Interroga el Joystick en busca de teclas pulsadas y genera los eventos asociados.</span><br/> <span style="font-size: x-small;">Debe ser llamada periódicamente desde el bucle principal de la aplicación para el correcto funcionamiento del resto de las rutinas.</span><br/> <span style="font-size: x-small;">Puede ser llamada desde una interrupción.</span><br/> <span style="font-size: x-small;">Retorna máscara de 8 bits con botones actualmente pulsados utilizando las constantes <span style="white-space: pre;">[B</span>UTTON_RIGHT .. BUTTON_A].</span><br/> <span style="font-size: x-small;"><br/></span> <b><span style="font-size: x-small;">bool ButtonDown(unsigned char button);</span></b><br/> <span style="font-size: x-small;">Retorna [true] si el / los botones pasados en el parámetro [button] están pulsados.</span><br/> <span style="font-size: x-small;">Se entiende “pulsado” como el botón apretado que se mantiene en ese estado mientras se realiza el chequeo.</span><br/> <span style="font-size: x-small;">El parámetro [button] es una máscara de 8 bits utilizando las constantes <span style="white-space: pre;">[B</span>UTTON_RIGHT .. BUTTON_A].</span><br/> <span style="font-size: x-small;"><br/></span> <b><span style="font-size: x-small;">bool ButtonPressed(void);</span></b><br/> <span style="font-size: x-small;">Retorna [true] si hay al menos un botón en el buffer de botones presionados</span><br/> <span style="font-size: x-small;">Se entiende como “presionado” a la acción de pulsar y liberar cualquiera de los botones.</span><br/> <span style="font-size: x-small;"><br/></span> <b><span style="font-size: x-small;">unsigned char GetButton(void);</span></b><br/> <span style="font-size: x-small;">Retorna el primer botón del buffer de botones presionados.</span><br/> <span style="font-size: x-small;">El valor retornado se encuentra en el rango <span style="white-space: pre;">[B</span>UTTON_RIGHT .. BUTTON_A].</span><br/> <span style="font-size: x-small;"><br/></span> <b><span style="font-size: x-small;">void onButtonDown(void (*function)(unsigned char));</span></b><br/> <span style="font-size: x-small;">Registra “callback” de tecla pulsada.</span><br/> <span style="font-size: x-small;">La rutina [function] pasada como parámetro se “ejecuta” mientras se mantenga pulsada una o varias teclas.</span><br/> <span style="font-size: x-small;">El parámetro pasado a la función se encuentra en el rango <span style="white-space: pre;">[B</span>UTTON_RIGHT .. BUTTON_A].</span><br/> <span style="font-size: x-small;"><br/></span> <b><span style="font-size: x-small;">void onButtonPress(void (*function)(unsigned char));</span></b><br/> <span style="font-size: x-small;">Registra “callback” de tecla presionada.</span><br/> <span style="font-size: x-small;">La rutina [function] pasada como parámetro se “ejecuta” cada vez que se presiona (pulsa y libera) una tecla.</span><br/></p> <div> <span style="font-size: x-small;">El parámetro pasado a la función se encuentra en el rango&nbsp;<span style="white-space: pre;">[B</span>UTTON_RIGHT ..&nbsp;BUTTON_A].</span></div> <div> <br/> <b>Instalación / Utilización</b><br/> &nbsp; La instalación es la "clásica" del IDE Arduino:<br/> &nbsp; &nbsp; Menú Programa -&gt; Include Library -&gt; Add .ZIP Library<br/> &nbsp; Para más información consultar la documentación oficial: <a href="http://www.arduino.cc/en/Guide/Libraries#toc4" target="_blank">Installing Additional Arduino Libraries</a><br/> <br/> &nbsp; Una vez instalada la librería en el IDE, en un Sketch nuevo o existente se debe proceder con la inclusión de la librería: Programa -&gt; Include Library -&gt; FamilyGameJoystick.<br/> <br/></div> <p><b>Sketch de ejemplo</b><br/>   A continuación un ejemplo simple sin la utilización de eventos.<br/>   Este y otros ejemplos se adjuntan con la librería y pueden ser abiertos como Sketch’s de ejemplo de la librería (Archivo -&gt; Ejemplos -&gt; FamilyGameJoystick).<br/> <br/></p> <pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;">#include &lt;FamilyGameJoystick.h&gt;&lt;familygamejoystick .h=""&gt;

//variable global de acceso al Joystick
FamilyGameJoystick Joystick;

void setup() {
  // inicialización del terminal serial
  Serial.begin(9600);
  // rutina de inicialización del Joystick
  // E/S 49 de arduino a pin Data del Joystick 
  // E/S 51 de arduino a pin Latch del Joystick 
  // E/S 53 de arduino a pin Clock del Joystick   
  Joystick.Init(49, 51, 53);
}

//bucle principal de la aplicación
void loop() {
  // se llama a la rutina de Polling
  // la misma establece comunicaciones con el joystick, detecta pulsación de botones, 
  // genera los eventos asociados, etc.
  Joystick.Poll();
  
  //si se presionó un botón (buffer de hasta 16 botones)
  if (Joystick.ButtonPressed()){
    Serial.print("Botón presionado: ");
    // escribimos máscara del botón presionado
    Serial.println(Joystick.GetButton());
  }
  
  //si el botón "izquierda" está siendo pulsado
  if (Joystick.ButtonDown(BUTTON_LEFT)){
    //decrementar la posición X del personaje   
    Serial.println("Izquierda");
  }
    
  //si el botón "derecha" está siendo pulsado
  if (Joystick.ButtonDown(BUTTON_RIGHT)){
    //incrementar la posición X del personaje
    Serial.println("Derecha");    
  }
}
&lt;/familygamejoystick&gt;</pre> <p><br/> <b>En lo próximo</b><br/>     Generaré otros ejemplos de aplicación (tengo un PacMan a punto de salir del horno).<br/>     Implementaré sistema “anti-rebotes” (estimé estaría implementado en el controlador del Joystick / a nivel eléctrico pero me equivoqué).<br/>     Corregiré pequeños detalles, documentaré el código fuente, puliré la documentación, etc.<br/></p> <div> &nbsp; &nbsp; Trataré de conseguir Joystick's de otras marcas / modelos (temo que el PinOut difiera).<br/> <br/></div> <p>Espero el contenido haya sido de utilidad.<br/> Consultas / comentarios son siempre bienvenidos.<br/> Nos vemos en la próxima entrada, Saludos!<br/> <br/></p>]]></content><author><name></name></author><category term="external-posts"/><category term="blogspot"/><category term="electrónica"/><category term="radio"/></entry><entry><title type="html">Arduino - Generación de señales de VGA con hardware estádar</title><link href="https://luispichio.github.io/blog/2015/arduino-generacin-de-seales-de-vga-con-hardware-estdar/" rel="alternate" type="text/html" title="Arduino - Generación de señales de VGA con hardware estádar"/><published>2015-05-28T04:48:00+00:00</published><updated>2015-05-28T04:48:00+00:00</updated><id>https://luispichio.github.io/blog/2015/arduino---generacin-de-seales-de-vga-con-hardware-estdar</id><content type="html" xml:base="https://luispichio.github.io/blog/2015/arduino-generacin-de-seales-de-vga-con-hardware-estdar/"><![CDATA[<div class="separator" style="clear: both; text-align: center;"> </div> <p>  Buenas!<br/>   Navegando en viejos almacenes de demoscene, dí con un proyecto que me llamó poderosamente la atención: <a href="http://www.linusakesson.net/scene/craft/index.php" target="_blank">Craft</a> de Linus Åkesson; Una obra de arte en miniatura basada en un ATmega88 que genera señales de VGA, los efectos y hasta sonido!<br/>   El hallazgo coincidió con el recién adquirido clon chino de Arduino Mega 2560 y con mis ganas de generar contenido para el blog así que… ¿Porqué no hacer una librería para generar señales de VGA con hardware estándar?<br/> <br/> <b><span style="font-size: large;">Manos a la obra</span></b><br/></p> <div> &nbsp; Empezaré con una introducción teórica, para luego discutir la implementación, el hardware y por último el software asociado (librería).<br/> <br/></div> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjj_b3VZYBYGPUZYpQ6cNnPGj41a1Ces12QGbl0pTHi7tuNKxw6f76WfFGgyppV6KmRJ1M5HY_kOnwYuwJKk3u994KTdkn5Y3SYaSo8iG2qSYHMXTwqZK1Zk9jRFwlvFy84Dj-A6Vi67Yw_/s1600/Collage.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjj_b3VZYBYGPUZYpQ6cNnPGj41a1Ces12QGbl0pTHi7tuNKxw6f76WfFGgyppV6KmRJ1M5HY_kOnwYuwJKk3u994KTdkn5Y3SYaSo8iG2qSYHMXTwqZK1Zk9jRFwlvFy84Dj-A6Vi67Yw_/s640/Collage.jpg" width="640"/></a></div> <p><br/> <b><span style="font-size: large;">Introducción Teórica</span></b><br/> <br/> <span style="color: red;">  Se hace referencia a continuación a los tubos de rayos catódicos (monitor de vidrio), cuando los mismos están prácticamente en desuso, reemplazados por pantallas LCD / LED. De todas formas, a nivel eléctrico el estándar se ha mantenido y lo que hacen los monitores modernos es “emular” el comportamiento de un crt para mantener la compatibilidad.</span><br/> <br/> <b>Funcionamiento de un monitor VGA</b><br/>   A groso modo un monitor o tubo de rayos catódicos (crt) es un tubo al vacío de vidrio con una película de fósforo en la parte frontal (pantalla) sobre la que se hace incidir un haz de rayos catódicos.<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiWoVigTkU5hBl2zb0_RWuF5Tn8mXdfgIyqufBULP6mSWrupRhBQ_09uFsqG8_6whyphenhyphenl77ggp57YBkYbtNg0t-mYOjLthoRJbYKZgkTxIj-cLkY7shr1uo2avTUSqd_YCdWLbf40xYbERBNH/s1600/crt.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="278" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiWoVigTkU5hBl2zb0_RWuF5Tn8mXdfgIyqufBULP6mSWrupRhBQ_09uFsqG8_6whyphenhyphenl77ggp57YBkYbtNg0t-mYOjLthoRJbYKZgkTxIj-cLkY7shr1uo2avTUSqd_YCdWLbf40xYbERBNH/s400/crt.png" width="400"/></a></div> <p><br/>   El haz (o los múltiples haces), que “recorre” (barre) constantemente la pantalla de izquierda a derecha y de arriba a abajo (normalmente) al incidir sobre la película de fósforo genera un punto iluminado (pixel) que conforma la imagen mostrada en la pantalla.<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhQWG868sx_VarO_tf1TNZhSWuaB095fSdkdXPF6C5ZLWVRaoWGs0h58931b7HFdSPfn-Ij0ou_ASaODSHYTkLjj2Wms0dy0mbwj7pl5wwoX9MRE2WPPFLDb0ei_nvO8-j-N1RM7gH5EDPt/s1600/barrido.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="286" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhQWG868sx_VarO_tf1TNZhSWuaB095fSdkdXPF6C5ZLWVRaoWGs0h58931b7HFdSPfn-Ij0ou_ASaODSHYTkLjj2Wms0dy0mbwj7pl5wwoX9MRE2WPPFLDb0ei_nvO8-j-N1RM7gH5EDPt/s400/barrido.jpg" width="400"/></a></div> <p><br/>   El movimiento de barrido del haz se realiza por medio de los llamados deflectores.<br/>   El control de deflexión y cañón es manejado, en el caso de un monitor VGA por 5 señales eléctricas (5 pines + tierra del DB15 del monitor):<br/>   <u>Sincronización Horizontal (H-SYNC):</u> Señal digital (pulso 0 - 5V)  asociada al deflector vertical del crt (o a su equivalente en un led / lcd) que marca el inicio de una línea, determina la resolución horizontal y asegura que el monitor muestre los pixeles de la misma entre los margenes izquierdo y derecho del área visible de la pantalla.<br/>   <u>Sincronización Vertical (V-SYNC):</u> Señal digital (pulso 0 - 5V) asociada al deflector vertical del crt (o a su equivalente en un led / lcd) que marca el inicio de un “frame”, determina la resolución vertical y asegura que las líneas horizontales estén entre el margen superior y inferior del área visible de la pantalla.<br/>   <u>R, G, B:</u> Señales analógicas en el rango 0V (oscuro) a 0.7V (máxima intensidad) asociadas al cañón de electrones del crt (o a su equivalente en un led / lcd) que controlan la intensidad de cada componente de color que combinados conforman el color pixel a pixel, linea a linea de la pantalla.<br/> <br/></p> <div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiz0zYhRKvnU_Y3lWy6s70qJ6SuFQSgvNr_5p_La8LF7fLxQl7yg-cbYVnHffkQ3HpLzZsH43aCsfWoqZcm01JZHydnmzixEqNWPwRLoaYaAbJFMtDn-SEwdCxQ8lb6zexwUDCovlLigCY9/s1600/DB15.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="170" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiz0zYhRKvnU_Y3lWy6s70qJ6SuFQSgvNr_5p_La8LF7fLxQl7yg-cbYVnHffkQ3HpLzZsH43aCsfWoqZcm01JZHydnmzixEqNWPwRLoaYaAbJFMtDn-SEwdCxQ8lb6zexwUDCovlLigCY9/s200/DB15.png" width="200"/></a></div> <br/> &nbsp; El estándar es muy estricto en cuanto a los tiempos de las formas de onda. Cualquier variación genera deformaciones, parpadeos, problemas de alineación, etc.<br/> &nbsp; Cada modo de los muy variados tiene tu respectivo diagramas de tiempo; Para mas información consultar <a href="http://martin.hinner.info/vga/timing.html" target="_blank">VGA Timings</a>.<br/> &nbsp; A continuación diagramas / tablas de formas de onda y tiempos del modo VGA 640 x 480 x 60hz.<br/> <br/></div> <p><b>Diagrama de tiempos simplificado para el modo VGA 640x480 60hz</b><br/> <b><br/></b> <br/></p> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgPakql528eozFMrUNCOiexXr-Yq18J-0ZRLbNPBHf-PcQuumEbwqh2bE5aLs98SeU49zvUzyICQmYyChIFolvRWPtAJo3kozdTklIsugW4mNw7SZd-Fw2cC9bxN0ztjs4n5oQSv6WWcxK5/s1600/VGA+-+Timing+(1).png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="465" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgPakql528eozFMrUNCOiexXr-Yq18J-0ZRLbNPBHf-PcQuumEbwqh2bE5aLs98SeU49zvUzyICQmYyChIFolvRWPtAJo3kozdTklIsugW4mNw7SZd-Fw2cC9bxN0ztjs4n5oQSv6WWcxK5/s640/VGA+-+Timing+(1).png" width="640"/></a></div> <p><br/></p> <div class="separator" style="clear: both; text-align: left;"> <b>Tabla de tiempos</b></div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhqRcAIg2qnOWV6daNmM4-weh7cDkHneAUakfe6yR7CFKEhzw4Kd0JLWmf6ZD2J7iDfdzaSbgPx5-n2rs87jl4OIGrnWohQnWD4kxWcnQIDcdgMTL2c07XTtahgxcQ3CNIofPsZk5mvL4G9/s1600/VGA+-+Timing+(3).png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhqRcAIg2qnOWV6daNmM4-weh7cDkHneAUakfe6yR7CFKEhzw4Kd0JLWmf6ZD2J7iDfdzaSbgPx5-n2rs87jl4OIGrnWohQnWD4kxWcnQIDcdgMTL2c07XTtahgxcQ3CNIofPsZk5mvL4G9/s400/VGA+-+Timing+(3).png" width="393"/></a></div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhqRcAIg2qnOWV6daNmM4-weh7cDkHneAUakfe6yR7CFKEhzw4Kd0JLWmf6ZD2J7iDfdzaSbgPx5-n2rs87jl4OIGrnWohQnWD4kxWcnQIDcdgMTL2c07XTtahgxcQ3CNIofPsZk5mvL4G9/s1600/VGA+-+Timing+(3).png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><br/></a></div> <div style="text-align: left;"> <b><br/></b></div> <div style="text-align: left;"> <b>Representación gráfica alternativa</b><br/> <b><br/></b></div> <div style="text-align: left;"> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiqu6CKINPqyEsswvy4RdbJ_Hwj_VUzBENs0hzfwHKHwyZWMr4N8ssjfwuZ32H8N-2DrWJ1aRwSeAd5l24NCxQeiHaFFV1pMt_TtX2gdoJSXzmtZg6wXKZTnF5fpDfImR8taGdzOiK9K8lL/s1600/VGA+-+Timing+(2).png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="513" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiqu6CKINPqyEsswvy4RdbJ_Hwj_VUzBENs0hzfwHKHwyZWMr4N8ssjfwuZ32H8N-2DrWJ1aRwSeAd5l24NCxQeiHaFFV1pMt_TtX2gdoJSXzmtZg6wXKZTnF5fpDfImR8taGdzOiK9K8lL/s640/VGA+-+Timing+(2).png" width="640"/></a></div> </div> <p><b><br/></b> <b><span style="font-size: large;">Análisis de Implementación</span></b><br/> <br/>   ¿Porqué 640x480? Primero es el más estándar de los modos (introducido por IBM para las PS/2 por el año 1987). Segundo es el de menor resolución y por ende el mas “alcanzable”. 320x200 y 320 x240 son variantes del 640x480 y 640x400 (cuatro pixeles por pixel) y no hay beneficios para la implementación.<br/>   El primer escollo de la implementación tienen que ver con la frecuencia de reloj del los pixeles: 25.175mhz.<br/>   ¿Que es este valor? La frecuencia (velocidad) a la que deben variar las señales analógicas de los 3 componentes de color (R, G y B) para conseguir la resolución horizontal de 640 pixeles.<br/>   Demás está decir que esa frecuencia de reloj es inalcanzable con hardware estándar (Arduino basado en microcontrolador de familia ATmega).<br/>   Para nuestro caso en particular, utilizando DAC’s de escaleras de resistencias (se explicará posteriormente), la frecuencia máxima alcanzable será de 16mhz / 3 (ciclos de instrucción por pixel) ~5,3mhz. La máxima resolución alcanzable con esta configuración será de ~135pixeles en ancho por 480 líneas de alto (sin límites).<br/>   Se plantea una alternativa para el modo monocromático utilizando el puerto serial de controlador para generar las señales. En este caso la frecuencia máxima alcanzable será de 16mhz / 2 (máxima frecuencia del usart) = 8mhz. La máxima resolución alcanzable con esta configuración será de ~203pixeles en ancho por 480 líneas de alto.<br/>   Con reloj de 20mhz (en algunos casos viene / se puede reemplazar) mejorará levemente el rendimiento y se podrá subir ligeramente la resolución.<br/>   La utilización con reloj de 8mhz queda directamente descartada.<br/> <br/> <b><span style="font-size: large;">Implementación</span></b><br/> <br/> <b>Circuito</b><br/>   Se plantean dos circuitos diferentes para la generación de color en los modos color y monocromático.<br/> <br/> <b>VGA Color</b><br/>   Como mencionaba anteriormente, para los niveles de RGB es necesario generar señales analógicas en el rango [0V - 0.7V].<br/>   Como primera medida, la familia de microcontroladores AVR ATmega de Atmel carecen de DAC’s; pero aún si los tuvieran, se requiere de una frecuencia según especificación de 25.175 mhz (en criollo, el DAC tiene que ser capaz de “cambiar de valor” 25 millones de veces por segundo), lo que directamente escapa a controladores de gama baja / media, independientemente de la marca.<br/>   Utilizaré entonces los clásicos y conocidos DAC’s conformados por resistencias en escalera (<a href="http://es.wikipedia.org/wiki/Red_R-2R">http://es.wikipedia.org/wiki/Red_R-2R</a>).<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh_kFaLy7AWyBT5WKB06gYtLt2_ComDwQx6RI8a5s33JdBMNJOtVaOeonagUKGjhCgzselLmgwfjyeaZHcsZhVOdEaXF_f9fRFqI4H7ZtEirLfVdFCXf5tDwxtbwM7XkZGTaRWLVGcXef_9/s1600/420px-R2r-ladder.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="100" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh_kFaLy7AWyBT5WKB06gYtLt2_ComDwQx6RI8a5s33JdBMNJOtVaOeonagUKGjhCgzselLmgwfjyeaZHcsZhVOdEaXF_f9fRFqI4H7ZtEirLfVdFCXf5tDwxtbwM7XkZGTaRWLVGcXef_9/s400/420px-R2r-ladder.png" width="400"/></a></div> <p><br/>   Este tipo de topología es probablemente la forma mas simple y económica de construir un DAC para generar una señal analógica (Vout) a partir de los datos digitales del puerto digital al que las resistencias estén conectadas (a(0) .. a(n-1)),<br/>   Para nuestro caso usaremos 2 redes de 3 bits para los componentes rojo / verde y una de 2 bits para los componentes azules.<br/>   Pueden generarse entonces 8 niveles de rojo / verde y 4 de azul siendo la máxima cantidad de colores representables 8 * 8 * 4 = 256 (<a href="http://en.wikipedia.org/wiki/List_of_monochrome_and_RGB_palettes#3-3-2_bit_RGB" target="_blank">RGB 3-3-2</a>).<br/>   En el esquema se utilizan las E/S digitales [22 - 29] (corresponden al PORTA del microcontrolador) para los DAC en escalera de los componentes de color y PWM [12, 13] para las señales de sincronismo. El puerto utilizado puede modificarse desde el include de configuración de la librería (ArduinoVGAConfig.h).<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjoNLu_Ty4TqSrJbbhL9RvF5Jvz3V7Im7paZP-iiXf4ySe_D6yznOpFAmbcW7oqyACPk8kqO0bNN-tZvIGOtPCR_P0SyTfByrExcS7jdc9_BzjpGHhP8BiGvmbtPJuDbtMT3UkD9xSFZ7V8/s1600/Arduino+VGA+-+Circuit+(Color).png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="265" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjoNLu_Ty4TqSrJbbhL9RvF5Jvz3V7Im7paZP-iiXf4ySe_D6yznOpFAmbcW7oqyACPk8kqO0bNN-tZvIGOtPCR_P0SyTfByrExcS7jdc9_BzjpGHhP8BiGvmbtPJuDbtMT3UkD9xSFZ7V8/s640/Arduino+VGA+-+Circuit+(Color).png" width="640"/></a></div> <p><br/>   R4, R9 y R16: Están contempladas para el caso de que algún monitor no tenga los 75ohms según especificación, en cuyo caso, se necesitarían para “compensar” ya que el cálculo del DAC ladder es para esa impedancia de carga.<br/> <br/> <b>VGA Monocromático</b><br/> <b><br/></b>   El circuito para el modo monocromático (blanco y negro) es bastante mas sencillo. A diferencia del circuito para generación de VGA color se necesitan solo dos niveles de color (dos estados), blanco y negro. El negro se obtiene a partir de la aplicación de 0V en cada uno de los canales de color.<br/> El blanco a partir de la aplicación de 0.7V (intensidad máxima) en cada uno de los canales.<br/>   Requiere de muy pocos componentes y puede ser construido en protoboard o directamente dentro de las “tapitas” del conector DB15.<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgiJWSofqwJOar7N47mzzuR5VfwtwIpDw4h40QPLQoHkehyphenhyphenaGBWQZuwQUphuQdIym-oePRZo9rHY0ccad7XBVZ4BeC-xjaMnn9Y5iIhcRNkyXCo7NDn6_jKSCdhHaU3TYYGec23RWTczrgp/s1600/Arduino+VGA+-+Circuit+%2528B%2526W%2529.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="472" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgiJWSofqwJOar7N47mzzuR5VfwtwIpDw4h40QPLQoHkehyphenhyphenaGBWQZuwQUphuQdIym-oePRZo9rHY0ccad7XBVZ4BeC-xjaMnn9Y5iIhcRNkyXCo7NDn6_jKSCdhHaU3TYYGec23RWTczrgp/s640/Arduino+VGA+-+Circuit+%2528B%2526W%2529.png" width="640"/></a></div> <p><br/>   Cuenta con solo 5 resistencias de las cuales son 3 las estrictamente necesarias (R1, R2 y R3).<br/> R1, R2 y R3 están calculadas para generar una caída de tensión de ~0.7V en la resistencia interna del monitor (75ohms).<br/>   R4 y R5 son limitadoras de corriente con la finalidad de proteger el puerto del controlador del Arduino ante cualquier eventualidad.<br/>   En el esquema se utiliza la E/S digital 18 (TX del USART1 del microcontrolador) para los componentes de color, PWM [12, 13] para las señales de sincronismo y tierra (se puede usar cualquiera). Los puertos utilizados puede modificarse desde el include de configuración de la librería (ArduinoVGAConfig.h).<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiZX0nAdqtkeixYO8KiyVkD4CgqBqs_JRORHnHNeAiN1jmuGGMFlBCekFUpY7-mGppXTPNkxh7CtE17rGWmMriyjuFcsuZNFIL3D87rPYMOmRowrM_reDwSoU6CdEYnron5gB-eAJUeKFb3/s1600/b%2526w+%2528Small%2529.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="300" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiZX0nAdqtkeixYO8KiyVkD4CgqBqs_JRORHnHNeAiN1jmuGGMFlBCekFUpY7-mGppXTPNkxh7CtE17rGWmMriyjuFcsuZNFIL3D87rPYMOmRowrM_reDwSoU6CdEYnron5gB-eAJUeKFb3/s400/b%2526w+%2528Small%2529.jpg" width="400"/></a></div> <p><br/> <b><span style="font-size: large;">Software</span></b><br/>   A nivel software se deben generar por una lado las señales de sincronismo, las de video y proveer al usuario de una interfaz (clase pública) con rutinas que permitan modificar el contenido de la pantalla.<br/> <br/> <b>Señales de sincronismo</b><br/> <br/>   Las señales de sincronismo deben ser generadas con la mayor exactitud / precisión posible.<br/>   Utilizaré para ello uno de los Timers de 16bits de la familia de microcontroladores ATmega.<br/>   El timer es un periférico de hardware accesible desde el código vía registros capaz de ejecutar rutinas cada intervalos específicos (interrupción), medir tiempos y generar formas de onda.<br/> <br/>   A partir del Timer se generará:<br/>     Interrupción cada 31,8uS (horizontal)<br/>     Pulso de sincronismo horizontal de 3.8uS generado por módulo Ouput Compare del Timer<br/>     Señal de video<br/>     Pulso de sincronismo vertical generado desde la interrupción<br/> <br/> <b>Memoria de video</b><br/>   Espacio de memoria RAM asignado como buffer intermedio entre la interfaz de usuario (clase pública) y la librería de generación de señales de bajo nivel.<br/>   Las funciones gráficas de la librería de control vuelcan contenido sobre la memoria de video.<br/>   La sección de bajo nivel de la librería, a la tasa de refresco correspondiente con el modo (60hz), vuelca el contenido en la pantalla crt (genera las formas de onda acorde al contenido).<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhLeZ92TheMo6jGtOibx161WgmcUH_ENfx2R_BCjTAX6oqv_YAKoGPpToLl-hCSo2ixtdE-uAzpOWXzgPk776jioZOJ1jIYueysifh0YS2cNCFp4dMtPvoq_Ewyd7yliIXddSdwpzPy_EIq/s1600/Arduino+VGA+-+Memoria+de+video.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="77" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhLeZ92TheMo6jGtOibx161WgmcUH_ENfx2R_BCjTAX6oqv_YAKoGPpToLl-hCSo2ixtdE-uAzpOWXzgPk776jioZOJ1jIYueysifh0YS2cNCFp4dMtPvoq_Ewyd7yliIXddSdwpzPy_EIq/s400/Arduino+VGA+-+Memoria+de+video.png" width="400"/></a></div> <p><br/>   Para el modo VGA color se utilizará un byte por pixel.<br/>   Para una resolución de 640 x 480 pixeles se requerirían 640*480 = 307200bytes (El Arduino mega2560 cuenta con 8192 bytes de ram); Demás está decir que una de las limitantes del modo color con hardware estándar será entonces la memoria RAM disponible.<br/>   En los ejemplos utilizaré una resolución de 64 x 64 = 4096bytes. Estos parámetros podrán modificarse en el include de configuración de la librería (ArduinoVGAConfig.h).<br/>   Para el modo VGA monocromático se utilizará un bit por pixel (8 pixeles por byte).<br/>   Utilizaré una resolución de 160 x 120 pixeles = 2400bytes. Estos parámetros se podrán modificar también desde el #include de configuración de la librería para permitir su utilización a costas de reducir la resolución en Arduinos de baja gama.<br/> <br/> <b>Generación de señales de color</b><br/>   Propongo dos conjuntos de rutinas para la generación de señales para los dos modos, ambas dentro de la misma librería y configurables por condicionales de compilación (ArduinoVGAConfig.h).<br/> <br/> <b>VGA Color</b><br/> <br/>   Para la generación de señales a color utilizaré a nivel software uno de los puertos estándar disponibles en el microcontrolador del Arduino.<br/>   En la figura se observa uno de los DAC escalera (componente rojo) conectado a 3 pines de un puerto del microcontrolador.<br/>   Los 3 bits en estado bajo corresponderán a una tensión a la salida de la red de 0V (menor intensidad de rojo = negro).<br/>   Alternando el estado de los pines del controlador se pueden obtener diferentes niveles de tensión (escalera) hasta alcanzar el máximo de 0.7V (mayor intensidad de rojo).<br/>   El mismo esquema se repite para los 3 componentes de color (rojo, verde, azul).<br/>   La resistencia de carga de 75ohms corresponde a la impedancia interna del monitor en las líneas de color (R, G, B).<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjG7GafOcvXspBBTplQiLXrZveL-eDcArsAGnWkIHkH1cUXJQpc8ZS5AjiT78dFKfMhyNNmb-ofQsyKmnRW5lgX2IMunSXYKJc0o52NxG-RQMbQ547wN45rABl00ZKrFpet_v78kZ0WIqrv/s1600/Arduino+VGA+-+Ladder+output.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="203" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjG7GafOcvXspBBTplQiLXrZveL-eDcArsAGnWkIHkH1cUXJQpc8ZS5AjiT78dFKfMhyNNmb-ofQsyKmnRW5lgX2IMunSXYKJc0o52NxG-RQMbQ547wN45rABl00ZKrFpet_v78kZ0WIqrv/s400/Arduino+VGA+-+Ladder+output.png" width="400"/></a></div> <p><br/>   Los componentes de color para el relleno de una línea horizontal se obtienen a partir de alternar tantos bytes por el puerto como pixeles haya de resolución; En nuestro caso, unos 128bytes.<br/>   La salida de datos por el puerto por cuestiones de tiempo debe necesariamente de escribirse en ensamblador:<br/></p> <hr/> <p>//carga en registro el contenido del puntero [Y] (apunta a la memoria de video)<br/> //incrementa Y en 1 (siguiente pixel)<br/> LD<span class="Apple-tab-span" style="white-space: pre;"> </span>R0,Y+  //2 ciclos de reloj<br/> //pone en el puerto A el contenido del registro<br/> OUT<span class="Apple-tab-span" style="white-space: pre;"> </span>PORTA, R0  // 1 ciclo de reloj<br/> LD<span class="Apple-tab-span" style="white-space: pre;"> </span>R0,Y+<br/> OUT<span class="Apple-tab-span" style="white-space: pre;"> </span>PORTA, R0<br/> …<br/> LD<span class="Apple-tab-span" style="white-space: pre;"> </span>R0,Y+<br/> OUT<span class="Apple-tab-span" style="white-space: pre;"> </span>PORTA, R0<br/></p> <hr/> <p><br/> <b>VGA Monocromático</b><br/> <br/>   Como mencionaba en párrafos anteriores, utilizaré un puerto de comunicaciones USART para generar las formas de onda.<br/>   El puerto USART de los controladores ATmega cuentan con las siguientes características interesantes para nuestra aplicación:<br/>   (1) Soportan el modo SPI con lo que se eliminan los elementos de sincronismo (start bit, stop bit) de la línea de datos.<br/>   (2) Tienen doble buffer de transmisión, que permite “ir cargando” el contenido del segundo byte a transmitir cuando todavía se está transmitiendo el primero (el puerto SPI no puede usarse para esta aplicación por este motivo).<br/>   (3) Máximo baudrate soportado: FOSC / 2. Supera ampliamente en frecuencia a la operación sobre puerto estándar.<br/> <br/>   En la figura se observa el pin de la transmisión del USART conectado a los 3 pines de los componentes de color del monitor VGA.<br/>   Las resistencias de 75ohms corresponden a las impedancias internas de cada una de las entradas de color del monitor.<br/>   El divisor resistivo formado por cada resistencia de 470ohms y la impedancia interna de 75ohms esta calculado para una caída de tensión de ~0.7V cuando el pin TX del controlador esté en estado alto (1) y de 0V cuando el pin esté en estado bajo (0).<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjAEYfW4VZK3ctNg6YuqIy3CxBp8L2m4K8_6PI90E71KPt_c9dBJZHTPtwCmc-iWai1qBnuD_y1jXGIcpQmJo84-pzPMSJaiqX64kMwRr0i2gAnrm32ENPwgihLyG-mJpRQomYkGfdR6713/s1600/Arduino+VGA+-+USART+output.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="97" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjAEYfW4VZK3ctNg6YuqIy3CxBp8L2m4K8_6PI90E71KPt_c9dBJZHTPtwCmc-iWai1qBnuD_y1jXGIcpQmJo84-pzPMSJaiqX64kMwRr0i2gAnrm32ENPwgihLyG-mJpRQomYkGfdR6713/s400/Arduino+VGA+-+USART+output.png" width="400"/></a></div> <p><br/>   Los componentes de color para el relleno de una línea horizontal se obtienen a partir de enviar tantos bytes por el puerto serial como pixeles / 8 haya de resolución; En nuestro caso, para 160 bytes corresponden 20 bytes enviados por el USART del controlador.<br/>   A 8 pixeles por byte, el color de cada pixel será negro si el bit correspondiente es 0 y blanco (0.7v para Rojo, Verde y Azul) si el bit es 1.<br/> <br/></p> <div> &nbsp; La salida de datos por el puerto por cuestiones de tiempo debe necesariamente de escribirse en ensamblador:</div> <hr/> <p>//carga en registro el contenido del puntero [Y] (apunta a la memoria de video)<br/> //incrementa Y en 1 (siguiente pixel)<br/> LD<span class="Apple-tab-span" style="white-space: pre;"> </span>R0, Y+<br/> //transmite por USART el contenido del registro<br/> STS<span class="Apple-tab-span" style="white-space: pre;"> </span><span class="Apple-tab-span" style="white-space: pre;"> </span>UDR1, R0<br/> //carga contenido del siguiente pixel<br/> LD<span class="Apple-tab-span" style="white-space: pre;"> </span>R0, Y+<br/> //demora hasta que esté libre el doble buffer para el siguietne byte a transmitir<br/> NOP NOP NOP NOP NOP NOP NOP NOP NOP NOP NOP NOP <br/> //transmite por USART el contenido del registro<br/> STS<span class="Apple-tab-span" style="white-space: pre;"> </span><span class="Apple-tab-span" style="white-space: pre;"> </span>UDR1, R0<br/> …<br/> LD<span class="Apple-tab-span" style="white-space: pre;"> </span>R0, Y+<br/> NOP NOP NOP NOP NOP NOP NOP NOP NOP NOP NOP NOP<br/> STS<span class="Apple-tab-span" style="white-space: pre;"> </span><span class="Apple-tab-span" style="white-space: pre;"> </span>UDR1, R0<br/></p> <hr/> <p><b><span style="font-size: large;"><br/></span></b> <b><span style="font-size: large;">Librería</span></b><br/> <br/>   La librería está compuesta por una clase pública para el usuario (ArduinoVGA.cpp) y una librería de bajo nivel (ArduinoVGAEngine.cpp) con las rutinas de generación de señal.<br/>   La misma es de código abierto (licencia a definir) y puede ser descargada desde la web de <a href="https://sourceforge.net/projects/arduino-vga/" target="_blank">SourceForge</a> desde <a href="https://sourceforge.net/projects/arduino-vga/files/latest/download" target="_blank">aquí</a>.<br/> <br/> <span style="color: red;"><b><span style="font-size: large;">Importante</span></b></span><br/> <span style="color: red;"><b>  (1) Por cuestiones de rendimiento es necesario desactivar el Timer0, utilizado para las rutinas de demora: millis(), micros(), etc. Se provee de una rutina de generación de demoras como reemplazo (VGA.Delay()).</b></span><br/> <span style="color: red;"><b>    No es posible utilizar estas rutinas como así tampoco otros periféricos con la generación de interrupciones activa.</b></span><br/> <span style="color: red;"><b>    Es una limitación importante de la librería y uno de los costos por no utilizar hardware externo.</b></span><br/> <span style="color: red;"><b>  (2) El ~92% del tiempo el microcontrolador estará dedicado a la generación de señales de VGA. Solo en el ~8% restante (denominado “tiempo de blanqueo”) el controlador estará “relativamente liberado” para ejecutar el código de usuario (1,5mS de 16,7ms) así que habrá que “ingeniárselas”.</b></span><br/>   <br/> <b>Clase pública</b><br/></p> <pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code style="color: black; word-wrap: normal;">class ArduinoVGA {
  public:
    Init(void);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void PutPixel(unsigned short x, unsigned short y, unsigned char color);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void PutPixel(unsigned short x, unsigned short y, unsigned char r, unsigned char g, unsigned char b);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>unsigned char RGB2Color(unsigned char r, unsigned char g, unsigned char b);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void ClrScr(unsigned char color);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void ClrScr(unsigned char r, unsigned char g, unsigned char b);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void ClrScr(void);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void Delay(unsigned short ms);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void Line(short x0, short y0, short x1, short y1, unsigned char color);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void Rectangle(short x0, short y0, short x1, short y1, unsigned char color);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void FillRectangle(short x0, short y0, short x1, short y1, unsigned char color);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void Triangle(short x0, short y0, short x1, short y1, short x2, short y2, unsigned char color);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void Polygon(short x[], short y[], unsigned char vertexCount, unsigned char color);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void Circle(short x0, short y0, short radius, unsigned char color);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void FontLoad(const unsigned char *font);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void FontColor(unsigned char color, unsigned char backgroundColor);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void GotoXY(unsigned char x, unsigned char y);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void Write(char *s);
<span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;">    </span>void Write(unsigned char x, unsigned char y, char *s);
};</code>
</pre> <p><b><br/></b> <b>Descripción de los métodos</b><br/> <br/> <b>Init();</b><br/> Inicializa la librería.<br/> <br/> <b>PutPixel(x, y, color);</b><br/> Pone un pixel en las coordenadas en pixeles [x, y] de color RGB empaquetado [0..255].<br/> <br/> <b>PutPixel(x, y, r, g, b);</b><br/> Pone un pixel en las coordenadas en pixeles [x, y] de componentes de color r [0..7], g [0..7] y b [0..3].<br/> <br/> <b>RGB2Color(r, g, b);</b><br/> Convierete color de tres componentes [r], [g], [b] a empaquetado de 8 bits [0..255].<br/> El formato del empaquetado (byte) será de bit mas significativo a menos significativo [BBGGGRRR].<br/> <br/> <b>ClrScr(color);</b><br/> Borra la pantalla pintando con color RGB empaquetado [0..255].<br/> <br/> <b>ClrScr(r, g, b);</b><br/> Borra la pantalla pintando con color de componentes r [0..7], g [0..7] y b [0..3].<br/> <br/> <b>ClrScr();</b><br/> Borra la pantalla (negro).<br/> <br/> <b>Delay(ms);</b><br/> Genera demora en ms.<br/> Como mencionábamos anteriormente, varias de las rutinas estándar de Arduino son desactivadas durante la inicialización de esta librería por cuestiones de rendimiento.<br/> <br/> <b>Line(x0, y0, x1, y1, color);</b><br/> Dibuja línea desde coordenadas en pixeles  [x0, y0] a coordenadas [x1, y1] de color RGB empaquetado [0..255].<br/> <br/> <b>Rectangle(x0, y0, x1, y1, color);</b><br/> Dibuja un rectángulo con coordenadas de vértice superior izquierdo [x0, y0], [x1, y1] de vértice inferior derecho y de color RGB empaquetado [0..255].<br/> <br/> <b>FillRectangle(x0, y0, x1, y1, color);</b><br/> Dibuja un rectángulo relleno con coordenadas de vértice superior izquierdo [x0, y0], [x1, y1] de vértice inferior derecho y de color RGB empaquetado [0..255].<br/> <br/> <b>Triangle(x0, y0, x1, y1, x2, y2, color);</b><br/> Dibuja un triángulo con vértices de coordenadas [x0, y0], [x1, y1] y [x2, y2] de color RGB empaquetado [0..255].<br/></p> <div> <br/></div> <p><b>Polygon(x[], y[], vertexCount, color);</b><br/></p> <div> Dibuja un polígono de [vertexCount] vértices de coordenadas {[x[0], y[0]] .. [x[vertexCount - 1], y[vertexCount - 1]]} de&nbsp;color RGB empaquetado&nbsp;[0..255].</div> <div> <br/></div> <p><b>Circle(x0, y0, radius, color)</b>;<br/> Dibuja circunsferencia con centro en coordenadas en pixeles [x0, y0], radio en pixeles [radius] y color RGB empaquetado [0..255].<br/> <br/> <b>FontLoad(*font);</b><br/> Selecciona fuente [font] almacenada en memoria flash.<br/> Se utilizan las fuentes del proyecto <a href="https://code.google.com/p/arduino-tvout/" target="_blank">arduino-tvout</a> ya incluidas dentro de la librería.<br/> <br/> <b>FontColor(color, backgroundColor);</b><br/> Configura color de fuente y color de fondo. Ambos parámetros color RGB empaquetado [0..255].<br/> <br/> <b>GotoXY(x, y);</b><br/> Posiciona puntero de escritura en coordenadas en pixeles [x, y]<br/> <b><br/></b> <b>Write(char *s);</b><br/> Escribe cadena de caracteres en posición de puntero de escritura.<br/> Modifica la posición del puntero (permite escribir múltiples cadenas una a continuación de la otra).<br/> <br/> <b>Write(x, y, *s);</b><br/> Escribe una cadena [s] en las coordenadas en pixeles [x, y].<br/> Modifica la posición del puntero (permite escribir múltiples cadenas una a continuación de la otra).<br/></p> <div> <br/></div> <p><b><span style="font-size: large;">Instalación / </span></b><b><span style="font-size: large;">Utilización</span></b><br/>   La instalación es la “clásica” del IDE Arduino:<br/>     Menú Programa -&gt; Include Library -&gt; Add .ZIP Library<br/>   Para más información consultar la documentación oficial: <a href="http://www.arduino.cc/en/Guide/Libraries#toc4" target="_blank">Installing Additional Arduino Libraries</a><br/> <br/>   Una vez instalada la librería en el IDE, en un Sketch nuevo o existente se debe proceder con la inclusión de la librería: Programa -&gt; Include Library -&gt; Arduino VGA.<br/>   Los métodos de la clase publica están disponibles vía la instancia global VGA. (VGA.PutPixel, VGA.ClrScr, VGA.Line, VGA.Circle, etc).<br/> <br/> <b>Sketch de ejemplo</b><br/></p> <pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code style="color: black; word-wrap: normal;">#include &lt;ArduinoVGA.h&gt;
#include &lt;ArduinoVGAConfig.h&gt;
#include &lt;ArduinoVGAEngine.h&gt;
#include &lt;font6x8.h&gt;

// codificado dentro del método setup()
// la librería desactiva varias funcionalidades de Arduino por cuestiones
//de rendimiento.
void setup() {
  // inicialización de la librería
  VGA.Init();
  // carga fuente a utilizar por las rutinas de escritura
  VGA.FontLoad(font6x8);
  // bucle infinito
  while (1){
    // dibuja circulo de radio, posición y aleatoria de la pantalla
    VGA.Circle(random(RX), random(RY), random(10) + 1, random(2));
    // selecciona color de fuente aleatorio y color de fondo negro
    VGA.FontColor(random(2), 0);
    // escribe cadena "Hola mundo!" en posición aleatoria de la pantalla
    VGA.Write(random(RX), random(RY), "Hola mundo!");
  }  
}

// la rutina no se llama nunca en este ejemplo
// jamás se retorna de la rutina setup()
void loop() {
}</code>
</pre> <p><br/> <b>Otros ejemplos de uso</b><br/> <br/>   A continuación un demo para cada uno de los modos.<br/>   Ambos forman parte de la librería y pueden ser abiertos como Sketch’s de ejemplo de la librería (Archivo -&gt; Ejemplos -&gt; ArduinoVGA).<br/> <br/>   <b>VGA Color</b><br/>     Para el modo color algunos fractales y un par de efectos de demoscene en resolución 64 x 64 (no puedo mas por cuestiones de RAM).<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <iframe allowfullscreen="" class="YOUTUBE-iframe-video" data-thumbnail-src="https://i.ytimg.com/vi/_LDAx8MQrDc/0.jpg" frameborder="0" height="266" src="https://www.youtube.com/embed/_LDAx8MQrDc?feature=player_embedded" width="320"></iframe></div> <p><br/>   Efectos según orden de aparición:<br/>     Fuego (básico por cuestiones de RAM)<br/>     Fractales<br/>       <a href="http://es.wikipedia.org/wiki/Tri%C3%A1ngulo_de_Sierpinski" target="_blank">Sierpisky</a><br/>       <a href="http://es.wikipedia.org/wiki/Conjunto_de_Mandelbrot" target="_blank">Mandelbrot</a><br/>     Prueba de fuentes<br/>     Shadebos<br/> <br/>   <b>VGA Monocromático</b><br/>   Para el modo monocromático programé una librería de <a href="http://es.wikipedia.org/wiki/Gr%C3%A1ficas_tortuga" target="_blank">gráficos de tortuga</a> para nada pulida para hacer algunos fractales recursivos.<br/>   La resolución elegida en este caso es de 160 x 120.<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <iframe allowfullscreen="" class="YOUTUBE-iframe-video" data-thumbnail-src="https://i.ytimg.com/vi/WqUPCK4U-yc/0.jpg" frameborder="0" height="266" src="https://www.youtube.com/embed/WqUPCK4U-yc?feature=player_embedded" width="320"></iframe></div> <p><br/>   Efectos según orden de aparición:<br/>     Fractales<br/>       Arbol<br/>       <a href="http://es.wikipedia.org/wiki/Curva_del_drag%C3%B3n" target="_blank">Dragón</a><br/>       <a href="http://es.wikipedia.org/wiki/Tri%C3%A1ngulo_de_Sierpinski" target="_blank">Sierpisky</a><br/>       Koch<br/>     Prueba de fuentes<br/>     Bolas sobre curvas de <a href="http://es.wikipedia.org/wiki/Curva_de_Lissajous" target="_blank">Lissajous</a><br/>     Figuras geométricas<br/> <br/> <b><span style="font-size: large;">Conclusiones</span></b><br/> <br/></p> <ul> <li>El resultado es bastante bueno considerando las importantes limitaciones producto de la memoria RAM y la frecuencia de reloj.</li> <li>En modo monocromático cuenta con resolución aceptable y es relativamente utilizable para aplicaciones varias.</li> <li>En modo color es bastante limitado (resolución), es con fines de experimentación y no se le puede pedir mucho mas.</li> <li>Tiene unos cuantos detalles que estimo iré puliendo con el tiempo.</li> </ul> <p><br/>   <b>En lo próximo</b><br/>     Con la misma idea voy a diseñar un shield con un microcontrolador mas potente (tentativamente algún de la familia ATxmega), memoria RAM onboard y algún que otro chiche, comandado vía SPI por un Arduino y su correspondiente librería de control.<br/>     Agregaré alguna que otra función a la librería de interfaz (ArduinoVGA).<br/>     Crearé repositorio con el contenido aquí presentado (Sourceforge probablemente).<br/>     Trabajaré la librería de bajo nivel (generación de señales) con el fin de exprimir al máximo el hardware y poder mejorar levemente la resolución en los diferentes modos.<br/>     Corregiré pequeños detalles de la implementación.<br/>     Documentaré el código fuente.<br/> <br/>   Doy por terminado este artículo, espero el contenido haya sido de utilidad.<br/>   Cualquier duda no duden en consultar, nos vemos en la siguiente entrada.<br/>   Saludos, Luis.-<br/> <br/></p>]]></content><author><name></name></author><category term="external-posts"/><category term="blogspot"/><category term="electrónica"/><category term="radio"/></entry><entry><title type="html">FBBTelnet - Consola telnet vía web para FBB BBS</title><link href="https://luispichio.github.io/blog/2015/fbbtelnet-consola-telnet-va-web-para-fbb-bbs/" rel="alternate" type="text/html" title="FBBTelnet - Consola telnet vía web para FBB BBS"/><published>2015-02-28T17:36:00+00:00</published><updated>2015-02-28T17:36:00+00:00</updated><id>https://luispichio.github.io/blog/2015/fbbtelnet---consola-telnet-va-web-para-fbb-bbs</id><content type="html" xml:base="https://luispichio.github.io/blog/2015/fbbtelnet-consola-telnet-va-web-para-fbb-bbs/"><![CDATA[<div class="separator" style="clear: both; text-align: left;"> &nbsp; Coincidiendo con la "vuelta a la actividad" del Radio Club 25 de Mayo (increíble tarea llevada a cabo por el amigo y colega Sebastión LW9ERO), que motivó también mi retorno, desarrollé una aplicación para acceso a FBB BBS como reemplazo de cliente telnet.</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; La plataforma seleccionada es Flash (AS3) que permite la utilización de cualquier explorador web con soporte Flash, evitando al usuario la instalación de software adicional no específico (cliente de telnet).</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; La aplicación, aún en desarrollo, tiene como fin la experimentación con las diferentes tecnologías &nbsp;(aprendizaje), el acercamiento a colegas sin el equipamiento adecuado, la colaboración y lo más importante: La práctica del hobby.</div> <div class="separator" style="clear: both; text-align: left;"> <br/></div> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhePhlDSz5B77mkjUCvSB6aXCZcYApzvFrDZjZgpjjDcJb_m1IWxTbjQfG5vx2u8q55KmjiS3J0Vf4hSZBYoyV-a_h-53iIc3n2v7xg5Lz-ZZOyL5yWewQsPOX7y1gHgs42NfzHlcnTtR4h/s1600/fbbtelnet.0.9.3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhePhlDSz5B77mkjUCvSB6aXCZcYApzvFrDZjZgpjjDcJb_m1IWxTbjQfG5vx2u8q55KmjiS3J0Vf4hSZBYoyV-a_h-53iIc3n2v7xg5Lz-ZZOyL5yWewQsPOX7y1gHgs42NfzHlcnTtR4h/s1600/fbbtelnet.0.9.3.png" height="301" width="400"/></a></div> <div class="separator" style="clear: both; text-align: left;"> <br/></div> <div class="separator" style="clear: both; text-align: left;"> <b><span style="font-size: large;">Características</span></b></div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Utilización simple (al menos para el cliente).</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Multiplataforma (aplicación web).</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Interfaz gráfica escalable adaptable a diferentes formatos / resoluciones.</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Historial de comandos.</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Aceleradores: Mensajes nuevos, propios, lectura, estado del bbs, etc.</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Texto enriquecido. Reconocimiento de palabras clave (url's, correos electrónicos, números de mensaje, licencias, etc).</div> <div class="separator" style="clear: both; text-align: left;"> &nbsp; Descarga / Visualización directa de YAPP / 7+ (a implementar).</div> <div class="separator" style="clear: both; text-align: left;"> <br/></div> <div class="separator" style="clear: both; text-align: center;"> </div> <p><b><span style="font-size: large;">Requerimientos</span></b><br/> <b>  Cliente</b><br/>     (a) Navegador con soporte Flash 9+ (cualquier navegador moderno).<br/>     (b) Acceso a autorizado (contraseña) al BBS vía telnet (gestionado por el Sysop del BBS).<br/> <br/>     <u>Utilización en Android</u><br/>       En Android tanto Chrome como el navegador nativo carecen de soporte para flash. En su lugar se pueden utilizar alternativos como Firefox o Dolphin Browser:<br/>         <u>Firefox</u>: <a href="https://play.google.com/store/apps/details?id=org.mozilla.firefox">https://play.google.com/store/apps/details?id=org.mozilla.firefox</a><br/>         <u>Dolphin Browser</u>: <a href="https://play.google.com/store/apps/details?id=mobi.mgeek.TunnyBrowser">https://play.google.com/store/apps/details?id=mobi.mgeek.TunnyBrowser</a><br/>       El reproductor de flash se debe descargar e instalar de forma manual:<br/>         <u>Proceso de instalación:</u> <a href="https://helpx.adobe.com/flash-player/kb/installing-flash-player-android-devices.html">https://helpx.adobe.com/flash-player/kb/installing-flash-player-android-devices.html</a><br/>         <u>Aplicación:</u> <a href="https://helpx.adobe.com/flash-player/kb/archived-flash-player-versions.html">https://helpx.adobe.com/flash-player/kb/archived-flash-player-versions.html</a><br/> <br/> <b>  Servidor</b><br/>     (a) WinFBB / LinFBB con puerto telnet configurado (tema que no trataremos en este artículo).<br/>     (b) <u>Socket Policy File Server</u>: Por políticas de seguridad de flash es necesaria la instalación de un servidor de seguridad que habilite a la aplicación externa (cliente) a realizar una conexión al puerto 23 (Telnet). Concretamente debe de haber un servicio respondiendo a una solicitud que hace el reproductor de flash que habilita o no la conexión del software en ejecución.<br/>       Pueden encontrarse diferentes implementaciones en la red, pongo a disposición una genérica para windows y una propia multiplataforma:<br/>         <a href="http://socketpolicyfile.codeplex.com/">http://socketpolicyfile.codeplex.com/</a><br/>         …<br/> <br/> <b><span style="font-size: large;">Acceso a la aplicación</span></b><br/>     La aplicación es accesible desde el siguiente hipervínculo: <a href="http://qsl.net/lw6dio/fbbtelnet/">http://qsl.net/lw6dio/fbbtelnet/</a><br/> El usuario puede “incrustar” la aplicación flash en una web propia sin ningún tipo de inconvenientes. Junto con el código fuente se encuentra el binarios (swf) y un html de ejemplo.<br/> <br/> <b><span style="font-size: large;">Código fuente / Binarios</span></b><br/>   El código fuente y el binario de la aplicación es de dominio publico y se encuentra disponible en <a href="https://sourceforge.net/projects/fbbtelnet/">https://sourceforge.net/projects/fbbtelnet/</a>.<br/>   Se utilizó para el desarrollo la herramienta de código abierto FlashDevelop (http://www.flashdevelop.org/), Adobe Flex 4.6 SDK (<a href="http://www.adobe.com/devnet/flex/flex-sdk-download.html">http://www.adobe.com/devnet/flex/flex-sdk-download.html</a>) y la librería de componentes visuales de código abierto myLib (<a href="http://mylib.samystudio.net/">http://mylib.samystudio.net/</a>).<br/> <b><span style="font-size: large;"><br/></span></b> <b><span style="font-size: large;">A futuro</span></b><br/>   En lo próximo se implementará la descarga / visualización de binarios YAPP y 7+ (si consigo alguna especificación técnica del formato).<br/>   Aceleradores de lectura / escritura de mensajes están siendo considerados.<br/></p> <div> <br/> &nbsp; Comentarios, sugerencias y críticas son siempre bienvenidas.</div> <div> &nbsp; 73's de LW6DIO.<br/> <br/> <b><span style="font-size: large;">Referencias</span></b><br/> &nbsp; FBB BBS<br/> &nbsp; &nbsp; &nbsp;<a href="http://www.f6fbb.org/">http://www.f6fbb.org/</a><br/> &nbsp; FlashDevelop - IDE de código abierto para AS2 / AS3<br/> &nbsp; &nbsp; <a href="http://www.flashdevelop.org/">http://www.flashdevelop.org/</a><br/> &nbsp; myLib - Componentes visuales para AS3.<br/> &nbsp; &nbsp; <a href="http://mylib.samystudio.net/">http://mylib.samystudio.net/</a><br/> &nbsp;&nbsp;Socket Policy File Server<br/> &nbsp; &nbsp;&nbsp;<a href="http://socketpolicyfile.codeplex.com/">http://socketpolicyfile.codeplex.com/</a><br/> &nbsp; Políticas de seguridad de Adobe Flash Player<br/> &nbsp; &nbsp; <a href="http://www.adobe.com/devnet/flashplayer/articles/socket_policy_files.html">http://www.adobe.com/devnet/flashplayer/articles/socket_policy_files.html</a><br/> &nbsp; &nbsp; <a href="http://www.adobe.com/devnet/flashplayer/articles/fplayer9_security.html">http://www.adobe.com/devnet/flashplayer/articles/fplayer9_security.html</a><br/> <br/> <br/> <a name="more"></a><br/> <b>Modificaciones</b><br/> &nbsp; Publicación:&nbsp;<b>28/2/2015 14:36</b><br/> &nbsp; 1º Edición:&nbsp;<b>11/3/2015 01:22</b><br/> &nbsp; &nbsp; <b>Modificado</b><br/> &nbsp; &nbsp; &nbsp; Descripción de nuevas características implementadas.<br/> &nbsp; &nbsp; &nbsp; Correcciones ortográficas varias.<br/> &nbsp; &nbsp; &nbsp; Actualización de captura de pantalla.<br/> &nbsp; &nbsp; <b>Agregado</b><br/> &nbsp; &nbsp; &nbsp; Vínculos de aplicaciones de Android y detalles de la instalación en esa plataforma.<br/> &nbsp; &nbsp; &nbsp; Vínculo de acceso formal (qsl.net).</div>]]></content><author><name></name></author><category term="external-posts"/><category term="blogspot"/><category term="electrónica"/><category term="radio"/></entry><entry><title type="html">Demoscene - Fuego (Parte 2)</title><link href="https://luispichio.github.io/blog/2014/demoscene-fuego-parte-2/" rel="alternate" type="text/html" title="Demoscene - Fuego (Parte 2)"/><published>2014-12-13T14:51:00+00:00</published><updated>2014-12-13T14:51:00+00:00</updated><id>https://luispichio.github.io/blog/2014/demoscene---fuego-parte-2</id><content type="html" xml:base="https://luispichio.github.io/blog/2014/demoscene-fuego-parte-2/"><![CDATA[<p>Buenas!<br/> Comenzando una serie de artículos sobre el tema vamos con el efecto fuego.<br/> Se trata probablemente del efecto mas simple, no por ello, menos llamativo.<br/> No vamos a realizar una simulación, ya que una tarea compleja de dinámica de fluídos; Nos limitaremos a implementar un algoritmo simple, conocido y utilizado desde la vieja escuela.<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <iframe allowfullscreen="allowfullscreen" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" width="320" height="266" src="https://www.youtube.com/embed/xO2nrz89YaA?feature=player_embedded" frameborder="0"></iframe></div> <p><br/> La implementación será realizada en Java (NetBeans 8.0.02 + JDK 1.7) por su portabilidad, no así por su rendimiento.<br/> El efecto es de tipo “generación de textura en tiempo real”. Se articularán las herramientas para poder reutilizar el presente ejemplo en futuros artículos (efectos de deformación, renderizado, etc).<br/> <br/> <b><span style="font-size: large;">A los bifes</span></b><br/> <br/> Para la generación del efecto haremos uso de un buffer de efecto (cálculo) y otro de imagen (representación)<br/> A su vez, el buffer de efecto tendrá un doble buffer (copia), ya que algunos de los procesos son destructivos (suavizado, enfriamiento, convección).<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> </div> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEic5ey5775g1GS8vC6SaYp_-_FNv8Vq4vdGFbt_ydg93b9r7DrtHm3f9kas_tLIyVGjwi2S-Ne01qeMqh8iawPVuoGFFe4uGLyOar-Mqm3qWe-tePXdC5Wko9sxMXXHuMQwbkkIbDAHd-1r/s1600/fire_buffer.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEic5ey5775g1GS8vC6SaYp_-_FNv8Vq4vdGFbt_ydg93b9r7DrtHm3f9kas_tLIyVGjwi2S-Ne01qeMqh8iawPVuoGFFe4uGLyOar-Mqm3qWe-tePXdC5Wko9sxMXXHuMQwbkkIbDAHd-1r/s1600/fire_buffer.png" height="76" width="400"/></a></div> <p><br/> Cada elemento del buffer de efecto es una representación numérica de la intensidad del fuego en un punto del posterior volcado en pantalla.<br/> A mayor valor numérico, fuego mas intenso (tendiendo a amarillo o blanco a nivel gráfico).<br/> A la inversa, a menor valor numérico, menos intenso (tendiendo a rojo o negro a nivel gráfico).<br/> A cada valor de intensidad se le asignará posteriormente un color (Paleta de colores).<br/> <br/> El buffer de imagen tendrá las dimensiones del efecto que se quiera representar.<br/> En el ejemplo de 256 x 128 pixeles (32768 pixels).<br/> El buffer de efecto será ligeramente mas grande: Un par de pixeles en altura (parte inferior) en donde se generará la ignición. Este sector no se transferirá el buffer de imagen (no será visible).<br/> <br/> <b>Paleta de colores</b><br/> Probablemente el punto crítico del efecto.<br/> Con la paleta adecuada, el efecto es casi siempre agradable a la vista.<br/> La paleta incorrecta, no solo da aspecto de irreal (colores); También afecta la convección y altura del efecto.<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhUKRkh2EqyjOFNKICyl7plgaARGPHSJynU0eSIUaX_9QvSkT7FGJnwfTjvVfHipNix9NfxdVrMf1PtpkgNNI_2D7xk1hGCpeA-ZYR4JgEJ9sYQVmZzVL0aM0VVeySKCG_YEDuDjNGjLFzq/s1600/paleta.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhUKRkh2EqyjOFNKICyl7plgaARGPHSJynU0eSIUaX_9QvSkT7FGJnwfTjvVfHipNix9NfxdVrMf1PtpkgNNI_2D7xk1hGCpeA-ZYR4JgEJ9sYQVmZzVL0aM0VVeySKCG_YEDuDjNGjLFzq/s1600/paleta.png" height="12" width="400"/></a></div> <p><br/> Para el ejemplo utilizaremos una paleta de 112 colores<br/> <br/>   16 colores [0..15] -&gt; Negro a Rojo (menor intensidad)<br/>   32 colores [16..47] -&gt; Rojo a Amarillo (pasando por naranja)<br/>   32 colores [48..80] -&gt; Amarillo a Blanco<br/>   32 colores [80..112] -&gt; Blancos (mayor intensidad)<br/> <br/> <b><span style="font-size: large;">Generación del efecto</span></b><br/> <b><br/></b> Para simplificar la explicación, vamos a dividir la generación del efecto en las siguientes etapas:<br/>   (1) Ignición<br/>   (2) Propagación de calor<br/>   (3) Enfriamiento<br/>   (4) Convección<br/> <br/> <b>(1) Ignición (generación de llama)</b><br/> La generación de llama consiste en agregar puntos de calor (valores altos) al buffer de efecto de forma aleatoria y normalmente en la parte baja (fuego desde abajo hacia arriba).<br/> En cada ciclo de animación refrescaremos un par de líneas en la parte inferior del buffer de efecto, que, por lo anteriormente comentado, no formará parte del área visible del efecto.<br/> <br/> <b>Pseudocódigo de ignición</b><br/></p> <pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code style="color: black; word-wrap: normal;">para cada x
  buffer(x, 0) = numero_al_azar()
</code></pre> <p><b><br/></b> <b>(2) Propagación de calor</b><br/> La “magia” del efecto, es tan simple como un “suavizado” (smooth) del buffer de efectos.<br/> Hay muchos tipos de “suavizado”, para el ejemplo utilizaremos el mas simple y eficiente: Media aritmética.<br/> En cada ciclo de la animación, a cada punto lo reemplazaremos por la media aritmética de él y sus vecinos:<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjHAoTWRrWD42w4LhQsfj7fLtLsATM9RNIwH1ajgFop3PuBljF0Sh6T28Ro_tXHKvCK7JA7p6DiDiRg94Fw4WXh4QrbAgmfv69_s8FkB_mtdNwXniAq7x4eobUe-5WDV8NQp2PznxMxeSiF/s1600/fire_buffer_frames.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjHAoTWRrWD42w4LhQsfj7fLtLsATM9RNIwH1ajgFop3PuBljF0Sh6T28Ro_tXHKvCK7JA7p6DiDiRg94Fw4WXh4QrbAgmfv69_s8FkB_mtdNwXniAq7x4eobUe-5WDV8NQp2PznxMxeSiF/s1600/fire_buffer_frames.png" height="76" width="400"/></a></div> <p><br/> <b>Pseudocódigo de propagación del calor</b><br/></p> <pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code style="color: black; word-wrap: normal;">para cada x, y
  buffer(x, y) = (
    buffer(x, y) +
    buffer(x + 1, y) +
    buffer(x - 1, y) +
    buffer(x, y + 1) +
    buffer(x + 1, y - 1)
  ) / 5
</code></pre> <p><b><br/></b> <b>(3) Enfriamiento</b><br/> La técnica consiste restar un valor aleatorio a cada elemento del buffer de efectos.<br/> Lo de “valor aleatorio” es relativo; Utilizaremos una máscara (otro buffer) generada a partir de valores aleatorios, lo que contribuirá de manera significativa al rendimiento por no tener que generar valores en tiempo real.<br/> Con una paleta estándar, al “restar” estamos oscureciendo o quitando intensidad al fuego en ese sector.<br/> La finalidad es darle mas dinámica al efecto (movimiento), favorecer la convección, darle aspecto aleatorio a el efecto, etc.<br/> <br/> <b>Pseudocódigo de enfriamiento</b><br/></p> <pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code style="color: black; word-wrap: normal;">para cada x, y
  buffer(x, y) = buffer(x, y) - buffer_enfriamiento(x, y)
    si buffer(x, y) &lt; 0
      buffer(x, y) = 0
</code></pre> <p><br/> Utilizaremos una máscara de enfriamiento (buffer circular simétrico) generada a partir de un relleno al azar suavizado, lo que le conferirá homogeneidad.<br/> <br/></p> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgYbG4T9xZxguD-oWLLV-8w2A6D1-H4gGioTkDe17gL34IgDB8aW3t-Y0VMNEvYzu_gcIwW8n8_IQ4sKLhoei9JL2Jd9raIlZyi4E35NgwmBXuTTxLSrnKKy7nyoVFq6wLD4kTkgqTh1PTD/s1600/cooling_buffer.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgYbG4T9xZxguD-oWLLV-8w2A6D1-H4gGioTkDe17gL34IgDB8aW3t-Y0VMNEvYzu_gcIwW8n8_IQ4sKLhoei9JL2Jd9raIlZyi4E35NgwmBXuTTxLSrnKKy7nyoVFq6wLD4kTkgqTh1PTD/s1600/cooling_buffer.png" height="110" width="400"/></a></div> <p><br/> Ciclo a ciclo de la animación haremos un scroll ascendente a la máscara, lo que favorecerá la convección.<br/></p> <div> <br/></div> <p><b>Pseudocódigo de generación de mapa de enfriamiento</b><br/></p> <pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code style="color: black; word-wrap: normal;">//relleno al azar
para cada x, y
  buffer_enfriamiento(x, y) = numero_al_azar()

//suavizado
repetir 20
  para cada x, y
    buffer_enfriamiento(x, y) = (
      buffer_enfriamiento(x, y) +
      buffer_enfriamiento(x + 1, y) +
      buffer_enfriamiento(x - 1, y) +
      buffer_enfriamiento(x, y + 1) +
      buffer_enfriamiento(x, y - 1)
    ) / 5
</code></pre> <p><b><br/></b></p> <p><b>(4) Convección</b><br/> Tiene la finalidad de darle “aspecto ascendente” a  nuestras llamas.<br/> En cada ciclo de animación, haremos un scroll ascendente de 1 o 2 líneas sobre el buffer de efecto.<br/> <br/> <b>Código fuente / binarios compilados</b><br/> <br/></p> <ul> <li>Código fuente - Clase Fuego:&nbsp;<a href="https://drive.google.com/file/d/0B0iOjodlf4ReTU9XTTk5UjZrN00/view?usp=sharing">Fuego.java</a>&nbsp;</li> <li>Aplicación compilada:&nbsp;<a href="https://drive.google.com/file/d/0B0iOjodlf4ReNGdjY25pbHRkNU0/view?usp=sharing">Fuego.jar</a></li> <li>Proyecto de NetBeans (8.0.2):&nbsp;<a href="https://drive.google.com/file/d/0B0iOjodlf4ReSHRlWDF6dkZiWm8/view?usp=sharing">Fuego.zip</a></li> </ul> <p><br/> <b>Observaciones</b><br/>   Por cuestiones de rendimiento y compatibilidad no se utilizarán vectores de dos dimensiones, en su lugar usaremos vectores unidimensionales.<br/>   Se hará uso de un único tipo de entero (entero de 32bits con signo) por no detectarse variaciones significativas en el rendimiento y complicarse la implementación y legibilidad del código (casteos, control de desbordes, etc).<br/> <br/> <b>Variaciones del efecto</b><br/>   Controlando la ignición es posible lograr variaciones vistosas del efecto.<br/>   Propongo al lector en lugar de generar ignición en la parte baja del efecto, utilizar máscaras con texto, formas geométricas, gráfica, máscaras animadas (bolas de fuego), etc.<br/> <br/> Doy por terminado este primer artículo, espero el contenido haya sido de utilidad.<br/> Cualquier duda no duden en consultar, nos vemos en la siguiente entrada.<br/> Saludos, Luis.-</p>]]></content><author><name></name></author><category term="external-posts"/><category term="blogspot"/><category term="electrónica"/><category term="radio"/></entry></feed>